!function s(l,r,i){function c(t,e){if(!r[t]){if(!l[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(d)return d(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[t]={exports:{}};l[t][0].call(o.exports,function(e){var a=l[t][1][e];return c(a||e)},o,o.exports,s,l,r,i)}return r[t].exports}for(var d="function"==typeof require&&require,e=0;e<i.length;e++)c(i[e]);return c}({"/root/repo/app/assets/scripts/actions/index.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invalidateNational=function(){return{type:d}},t.requestNational=y,t.receiveNational=b,t.fetchNational=function(){return function(a){a(y()),r().then(function(e){return a(b(e))},function(e){return a(b(null,e))})}},t.invalidateNut=function(){return{type:m}},t.requestNut=C,t.receiveNut=N,t.fetchNut=function(t){return function(a){a(C()),r().then(function(e){return a(N(e,t))},function(e){return a(N(null,null,e))})}},t.invalidateConcelho=function(){return{type:g}},t.requestConcelho=function(){return{type:f}},t.receiveConcelho=P,t.fetchConcelho=function(t,n){return function(a){a(C()),r().then(function(e){return a(P(e,t,n))},function(e){return a(P(null,null,null,e))})}},t.requestMapData=T,t.receiveMapData=M,t.fetchMapData=function(){return function(a,e){if(a(T()),j)return a(M(j));x("assets/data/admin-areas.topojson").then(function(e){return j=e,a(M(e))},function(e){return a(M(null,e))})}},t.fetchJSON=x,t.RECEIVE_MAP_DATA=t.REQUEST_MAP_DATA=t.INVALIDATE_CONCELHO=t.RECEIVE_CONCELHO=t.REQUEST_CONCELHO=t.INVALIDATE_NUT=t.RECEIVE_NUT=t.REQUEST_NUT=t.INVALIDATE_NATIONAL=t.RECEIVE_NATIONAL=t.REQUEST_NATIONAL=void 0;var n,o=(n=e("isomorphic-fetch"),n&&n.__esModule?n:{default:n}),s=e("../config");var l=null;function r(){return new Promise(function(a,t){if(l)return a(JSON.parse(JSON.stringify(l)));x("".concat(s.api,"/api/national.json")).then(function(e){l=e,a(l)},function(e){return t(e)})})}var i="REQUEST_NATIONAL";t.REQUEST_NATIONAL=i;var c="RECEIVE_NATIONAL";t.RECEIVE_NATIONAL=c;var d="INVALIDATE_NATIONAL";t.INVALIDATE_NATIONAL=d;var u="REQUEST_NUT";t.REQUEST_NUT=u;var p="RECEIVE_NUT";t.RECEIVE_NUT=p;var m="INVALIDATE_NUT";t.INVALIDATE_NUT=m;var f="REQUEST_CONCELHO";t.REQUEST_CONCELHO=f;var h="RECEIVE_CONCELHO";t.RECEIVE_CONCELHO=h;var g="INVALIDATE_CONCELHO";t.INVALIDATE_CONCELHO=g;var v="REQUEST_MAP_DATA";t.REQUEST_MAP_DATA=v;var E="RECEIVE_MAP_DATA";function y(){return{type:i}}function b(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:c,data:e,error:a,receivedAt:Date.now()}}function C(){return{type:u}}function N(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:p,data:e,nutSlug:a,error:t,receivedAt:Date.now()}}function P(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:h,data:e,nutSlug:a,concelhoSlug:t,error:n,receivedAt:Date.now()}}function T(){return{type:v}}function M(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:E,data:e,error:a,receivedAt:Date.now()}}t.RECEIVE_MAP_DATA=E;var j=null;function x(e,a){return(0,o.default)(e,a).then(function(t){return t.text().then(function(a){var e;try{e=JSON.parse(a)}catch(e){return console.log("json parse error",e),Promise.reject({error:e.message,body:a})}return t.status>=400?Promise.reject(e):Promise.resolve(e)})})}},{"../config":"/root/repo/app/assets/scripts/config.js","isomorphic-fetch":"isomorphic-fetch"}],"/root/repo/app/assets/scripts/components/loading-screen.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement("div",{id:"intro-wrapper",className:"loading-screen"},o.default.createElement("div",{id:"intro",className:"container-wrapper content-wrapper"},o.default.createElement("section",null,o.default.createElement("h2",{id:"intro-logo"},o.default.createElement("a",{href:"#"},"Autoridade da Mobilidade e dos Transportes")),o.default.createElement("h1",null,"Táxis em Portugal ",o.default.createElement("span",{className:"block"},s.startYear,"–",s.endYear)),o.default.createElement("h3",{className:"section-category"},"A carregar dados")),o.default.createElement("div",{className:"loading-car"},o.default.createElement("img",{src:"/assets/graphics/layout/amt-taxi.jpg",title:"Taxy drawing",width:"200px"}))))};var n,o=(n=e("react"),n&&n.__esModule?n:{default:n}),s=e("../config")},{"../config":"/root/repo/app/assets/scripts/config.js",react:"react"}],"/root/repo/app/assets/scripts/components/map.js":[function(e,a,t){"use strict";var n=s(e("react")),Y=o(e("react-dom/server")),B=s(e("d3")),F=s(e("topojson")),W=o(e("lodash")),G=o(e("../utils/popover"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}var q={_projectionScaleValue:{}},U=[{id:"PT16D",concelhos:[101,102,103,105,108,110,112,114,115,117,118]},{id:"PT11A",concelhos:[104,107,109,113,116,119,1304,1306,1308,1310,1312,1313,1314,1315,1316,1317,1318]},{id:"PT11C",concelhos:[106,305,1301,1302,1303,1305,1307,1309,1311,1804,1813]},{id:"PT16E",concelhos:[111,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,1808]},{id:"PT184",concelhos:[201,202,203,204,205,206,207,208,209,210,212,213,214]},{id:"PT181",concelhos:[211,1501,1505,1509,1513]},{id:"PT112",concelhos:[301,302,303,306,310,313]},{id:"PT119",concelhos:[304,307,308,309,311,312,314,1705]},{id:"PT11E",concelhos:[401,402,405,406,407,408,410,411,412]},{id:"PT11D",concelhos:[403,404,409,914,1701,1704,1707,1708,1710,1711,1714,1801,1805,1807,1812,1815,1818,1819,1820]},{id:"PT16J",concelhos:[501,503,504,902,903,904,905,906,907,908,909,910,911,912,913]},{id:"PT16H",concelhos:[502,505,506,507,508,511]},{id:"PT16I",concelhos:[509,510,1401,1402,1408,1410,1411,1413,1417,1418,1419,1420,1421]},{id:"PT187",concelhos:[701,702,703,704,705,706,707,708,709,710,711,712,713,714]},{id:"PT150",concelhos:[801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816]},{id:"PT16G",concelhos:[901,1802,1803,1806,1809,1810,1811,1814,1816,1817,1821,1822,1823,1824]},{id:"PT16B",concelhos:[1001,1005,1006,1011,1012,1014,1101,1102,1104,1108,1112,1113]},{id:"PT16F",concelhos:[1002,1003,1004,1007,1008,1009,1010,1013,1015,1016]},{id:"PT185",concelhos:[1103,1403,1404,1405,1406,1407,1409,1412,1414,1415,1416]},{id:"PT170",concelhos:[1105,1106,1107,1109,1110,1111,1114,1115,1116,1502,1503,1504,1506,1507,1508,1510,1511,1512]},{id:"PT186",concelhos:[1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215]},{id:"PT111",concelhos:[1601,1602,1603,1604,1605,1606,1607,1608,1609,1610]},{id:"PT11B",concelhos:[1702,1703,1706,1709,1712,1713]},{id:"PT200",concelhos:[4101,4201,4202,4203,4204,4205,4206,4301,4302,4401,4501,4502,4601,4602,4603,4701,4801,4802,4901]},{id:"PT300",concelhos:[3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3201]}],l=n.default.createClass({displayName:"Map",propTypes:{className:n.PropTypes.string,geometries:n.PropTypes.object,data:n.PropTypes.array,nut:n.PropTypes.string,concelho:n.PropTypes.number,onClick:n.PropTypes.func,popoverContent:n.PropTypes.func,overlayInfoContent:n.PropTypes.func},ptMap:null,onWindowResize:function(){this.ptMap.checkSize()},componentDidMount:function(){this.onWindowResize=W.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.ptMap=r(),B.select(this.refs.container).call(this.ptMap.geometries(this.props.geometries).data(this.props.data).nut(this.props.nut).onClick(this.props.onClick).popoverContent(this.props.popoverContent).overlayInfoContent(this.props.overlayInfoContent).concelho(this.props.concelho))},componentWillUnmount:function(){window.removeEventListener("resize",this.onWindowResize),this.ptMap.destroy()},componentDidUpdate:function(e){this.ptMap.pauseUpdate(),e.geometries!==this.props.geometries&&this.ptMap.geometries(this.props.geometries),e.data!==this.props.data&&this.ptMap.data(this.props.data),e.nut!==this.props.nut&&this.ptMap.nut(this.props.nut),e.onClick!==this.props.onClick&&this.ptMap.onClick(this.props.onClick),e.popoverContent!==this.props.popoverContent&&this.ptMap.popoverContent(this.props.popoverContent),e.overlayInfoContent!==this.props.overlayInfoContent&&this.ptMap.overlayInfoContent(this.props.overlayInfoContent),e.concelho!==this.props.concelho&&this.ptMap.concelho(this.props.concelho),this.ptMap.continueUpdate()},render:function(){return n.default.createElement("div",{className:this.props.className,ref:"container"})}});a.exports=l;var r=function(e){var r,i,u,s,c,o,d,p,m,l,f,h,g,v,E,y,b,C=null,N=null,P=null,T=!1,M={top:0,right:0,bottom:0,left:0},j="#f2f2f2",x=function(a){return function(e){return a*e/6439.143067978895}},w=new G.default;function A(){m=parseInt(o.style("width"),10)-M.left-M.right,l=73/30*m,o.style("height","".concat(l,"px"))}var a=function(t){var e={type:"GeometryCollection",geometries:N.objects.all_areas.geometries.filter(function(e){var a=e.properties.id;return 4===a.length&&(a=a.substring(0,2)),function(e,a){return-1!==a.indexOf(parseInt(e))}(a,t)})};return F.feature(N,e)},R=function(){return[{id:41,center:[-25.1312,36.9762],feature:a([41]),offset:[111,72]},{id:42,center:[-25.4883,37.7751],feature:a([42]),offset:[103,53]},{id:43,center:[-27.2131,38.7069],feature:a([43]),offset:[65,20]},{id:44,center:[-28.0151,39.0533],feature:a([44]),offset:[28,1]},{id:45,center:[-28.0261,38.634],feature:a([45]),offset:[34,24]},{id:4647,center:[-28.537,38.5138],feature:a([46,47]),offset:[9,37]},{id:48,center:[-31.2067,39.432],feature:a([48]),offset:[-23,7]},{id:49,center:[-31.1188,39.703],feature:a([49]),offset:[-8,-13]}]},k=function(){return[{id:31,center:[-16.7473,32.622],feature:a([31]),offset:[-85,50]},{id:32,center:[-16.3435,33.0754],feature:a([32]),offset:[-80,13]}]},L=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,n=m/2,o=125/114*m,s=x(t),l=B.geoMercator().scale(t).center(e).translate([n+s(a[0]),o+s(a[1])]);return B.geoPath().projection(l)},O=function(e){if("nut3"===e.properties.type)return e.properties.id;if("distrito"===e.properties.type){var a=parseInt(e.properties.id);return a>=40?"PT200":"PT300"}},z=function(e,a){if(s){var t=function(e){var a=e.node(),t=a.getBBox(),n=a.getScreenCTM().translate(t.x+t.width/2,t.y),o=window.pageXOffset+n.e,s=window.pageYOffset+n.f;return{posX:o,posY:s}}(e),n=t.posX,o=t.posY;w.setContent(s(a)).show(n,o)}},S=function(){w.hide()},I=function(a){if(i)return i===a?"#f8781f":j;var e=C?C.find(function(e){return e.id===a}):null;return e?e.color:j},_=function(a,e){var t=U.find(function(e){return e.id===a});return-1!==t.concelhos.indexOf(parseInt(e))};function D(e){var s=e.name,t=e.type;function n(e){var a="island"===t?400:0,o=L(e.center,[e.offset[0],e.offset[1]+a]);return function(e){var a=e.filter(function(e){return"concelho"===e.properties.type}),t=e.filter(function(e){return"nut3"===e.properties.type}),n=e.filter(function(e){return"distrito"===e.properties.type});a.attr("d",o).attr("class",function(e){return"aa--".concat(e.properties.type)}).attr("stroke","#fff").attr("stroke-width","0.1px").attr("fill",function(a){if(i)return j;var e=C?C.find(function(e){return e.id===parseInt(a.properties.id)}):null,t=e?e.color:j;return t}).attr("fill-opacity",1).style("pointer-events",function(e){return i?"none":r&&_(r,e.properties.id)?"all":"none"}).on("mouseover",function(e,a){B.select(this).style("cursor","pointer");var t=parseInt(e.properties.id);z(B.select(this),{type:"concelho",id:t});var n=I(t);B.select(this).transition().attr("fill",B.color(n).darker(1))}).on("mouseout",function(e,a){S(),B.select(this).style("cursor","default");var t=I(parseInt(e.properties.id));B.select(this).transition().attr("fill",t)}).on("click",function(e,a){if(u){var t=parseInt(e.properties.id);t&&u({type:"concelho",id:t})}}),t.attr("d",o).attr("class",function(e){return"aa--".concat(e.properties.type," aa--").concat(e.properties.id)}).attr("stroke","#fff").attr("stroke-width","1px").attr("fill",function(e){return"#000"}).attr("fill-opacity",function(e){return i||r&&O(e),0}).style("pointer-events",function(e){return i?"none":r&&O(e)===r?"none":"all"}).on("mouseover",function(e,a){B.select(this).style("cursor","pointer"),z(B.select(this),{type:"nut3",id:O(e)}),B.select(this).transition().attr("fill-opacity",function(e){return.2})}).on("mouseout",function(e,a){B.select(this).style("cursor","default"),S(),B.select(this).transition().attr("fill-opacity",function(e){return 0})}).on("click",function(e,a){if(u){var t=O(e);t&&u({type:"nut3",id:t})}}),n.attr("d",o).attr("class",function(e){return"aa--".concat(e.properties.type)}).attr("stroke","#fff").attr("stroke-width","1px").attr("fill",function(e){return"#000"}).attr("fill-opacity",function(e){return i||r&&O(e),0}).style("pointer-events",function(e){return i?"none":r&&O(e)===r?"none":"all"}).on("mouseover",function(e,a){B.select(this).style("cursor","pointer"),z(B.select(this),{type:"nut3",id:O(e)}),d.selectAll(".".concat(s," .aa--distrito")).transition().attr("fill-opacity",function(e){return.2})}).on("mouseout",function(e,a){B.select(this).style("cursor","default"),S(),d.selectAll(".".concat(s," .aa--distrito")).transition().attr("fill-opacity",function(e){return 0})}).on("click",function(e,a){if(u){var t=O(e);t&&u({type:"nut3",id:t})}})}}return function(e){e.enter().each(function(e,a){var t=B.select(this);t.append("g").attr("class",function(e){return"feature feature--".concat(e.id)}).selectAll("path").data(e.feature.features).enter().append("path").call(n(e))}),e.each(function(e,a){var t=B.select(this);t.selectAll("path").data(e.feature.features).call(n(e))})}}function V(l){var r=l.type,i=l.groupOffset,c=l.groupScale,d="island"===r?"distrito":"nut3";function n(e){var a;if("island"===r)a=L(e.center,[e.offset[0]+i[0],e.offset[1]+i[1]],c);else{var t=2*g,n=t/Math.sqrt(2),o=[[v-n/2,E-n/2],[v+n/2,E+n/2]],s=B.geoMercator().fitExtent(o,l.nutTopo);a=B.geoPath().projection(s)}return function(e){return e.attr("d",a).attr("class",function(e){return"aa--".concat(e.properties.type)}).attr("stroke",function(e){return"distrito"===e.properties.type?"none":"#fff"}).attr("stroke-width",function(e){return e.properties.type===d?"1px":"0.1px"}).attr("fill",function(e){if("concelho"!==e.properties.type)return"none";var a=parseInt(e.properties.id);return I(a)}).style("pointer-events",function(e){return"concelho"===e.properties.type?"all":"none"}).on("mouseover",function(e,a){var t=parseInt(e.properties.id);z(B.select(this),{type:"concelho",id:t});var n=I(t);B.select(this).style("cursor","pointer").transition().attr("fill",B.color(n).darker(1))}).on("mouseout",function(e,a){var t=parseInt(e.properties.id);S();var n=I(t);B.select(this).style("cursor","default").transition().attr("fill",n)}).on("click",function(e,a){if(u){var t=parseInt(e.properties.id);t&&u({type:"concelho",id:t})}})}}return function(e){e.enter().each(function(e,a){var t=B.select(this);t.append("g").attr("class",function(e){return"feature feature--".concat(e.id)}).selectAll("path").data(e.feature.features).enter().append("path").call(n(e))}),e.each(function(e,a){var t=B.select(this);t.selectAll("path").data(e.feature.features).call(n(e))})}}function t(e){o=e;var a=function(){var e=d.select("g.acores");e.empty()&&(e=d.append("g").attr("class","acores")),e.selectAll("g.feature").data(R()).call(D({name:"acores",type:"island"}));var a=d.select("g.madeira");a.empty()&&(a=d.append("g").attr("class","madeira")),a.selectAll("g.feature").data(k()).call(D({name:"madeira",type:"island"}));var t=d.select("g.continente");t.empty()&&(t=d.append("g").attr("class","continente")),t.selectAll("g.feature").data([{id:1,center:[-8.2245,39.3999],feature:P,offset:[-42,0]}]).call(D({name:"continente",type:"main"}))},t=function(){var e=d.selectAll(".island-bound").data([{x:130,y:785,width:210,height:110},{x:20,y:785,width:110,height:110}]);e.enter().append("rect").attr("class","island-bound").attr("stroke-width","1px").attr("stroke","#ddd").attr("fill","none").merge(e).attr("x",function(e){return b(e.x)}).attr("y",function(e){return b(e.y)}).attr("width",function(e){return b(e.width)}).attr("height",function(e){return b(e.height)})},n=function(){if(r&&!i)if(c){var e,a=parseInt(p.style("height"));e="PT200"===r||"PT300"===r?b(760):B.select(".aa--".concat(r)).node().getBBox().y,p.style("display","").style("top","".concat(e-b(a+10),"px")),p.html(Y.default.renderToStaticMarkup(c()))}else p.style("display","none");if(i){var t=d.selectAll(".overlay-aa").data([[1]]),n=t.enter().append("g").attr("class","overlay-aa");if(n.append("circle").attr("class","overlay-aa-base"),n.append("g").attr("class","overlay-aa-geometry"),t.merge(t).select(".overlay-aa-base").attr("r",g).attr("cx",v).attr("cy",E).attr("stroke","#ccc").attr("stroke-width","1px").attr("fill","white").attr("fill-opacity",.8),r&&c){var o=parseInt(p.style("height"));p.style("display","").style("top","".concat(E-g-b(o+10),"px")),p.html(Y.default.renderToStaticMarkup(c()))}else p.style("display","none");var s=t.merge(t).select(".overlay-aa-geometry");if("PT200"===r)s.selectAll("g.feature").data(R()).call(V({name:"overlay-aa-geometry",type:"island",groupOffset:[-60,-70],groupScale:1.65*y}));else if("PT300"===r)s.selectAll("g.feature").data(k()).call(V({name:"overlay-aa-geometry",type:"island",groupOffset:[95,-65],groupScale:3*y}));else{var l=W.default.cloneDeep(N.objects.all_areas);l.geometries=l.geometries.filter(function(e){return"concelho"===e.properties.type?_(r,parseInt(e.properties.id)):e.properties.id===r}),s.selectAll("g.feature").data([{id:99999,center:[-8.2245,39.3999],feature:F.feature(N,l),offset:[0,0]}]).call(V({name:"overlay-aa-geometry",type:"main",nutTopo:F.feature(N,l)}))}}};h=function(){d.attr("width",m+M.left+M.right).attr("height",l+M.top+M.bottom),g=m/2-10,v=m/2,E=.75*l/2;var e="w".concat(m,"h").concat(l);q._projectionScaleValue[e]?y=q._projectionScaleValue[e]:(y=B.geoMercator().fitSize([m,l],P).scale(),q._projectionScaleValue={},q._projectionScaleValue[e]=y),b=x(y),a(),t(),n()},f=function(){T||(t(),n())},d=o.append("svg").attr("class","chart").style("display","block"),p=o.append("div").attr("class","aa-overlay-info").style("width","100%").style("position","absolute").style("display","none"),A(),h(),f()}return t.checkSize=function(){return A(),h(),t},t.destroy=function(){S()},t.data=function(e){return arguments.length?(C=W.default.cloneDeep(e),"function"===typeof f&&f(),t):C},t.geometries=function(e){if(!arguments.length)return N;N=e;var a={type:"GeometryCollection",geometries:N.objects.all_areas.geometries.filter(function(e){if("concelho"===e.properties.type){var a=e.properties.id.substring(0,3===e.properties.id.length?1:2);return a<30}if("nut3"===e.properties.type)return-1===["PT200","PT300"].indexOf(e.properties.id)})};return P=F.feature(N,a),t},t.nut=function(e){return arguments.length?(r=e,"function"===typeof f&&f(),t):r},t.concelho=function(e){return arguments.length?(i=e,"function"===typeof f&&f(),t):i},t.onClick=function(e){return arguments.length?(u=e,"function"===typeof f&&f(),t):u},t.popoverContent=function(e){return arguments.length?(s=e,"function"===typeof f&&f(),t):s},t.overlayInfoContent=function(e){return arguments.length?(c=e,"function"===typeof f&&f(),t):c},t.pauseUpdate=function(){return T=!0,t},t.continueUpdate=function(){return T=!1,"function"===typeof f&&f(),t},t}},{"../utils/popover":"/root/repo/app/assets/scripts/utils/popover.js",d3:"d3",lodash:"lodash",react:"react","react-dom/server":!1,topojson:"topojson"}],"/root/repo/app/assets/scripts/components/sections/section-ambito-nut.js":[function(e,a,t){"use strict";var s=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),n=e("react-router"),o=e("react-sticky"),l=e("react-chartjs-2"),r=p(e("lodash")),i=p(e("classnames")),c=p(e("../../utils/tooltip")),d=e("../../utils/utils"),u=p(e("../map"));function p(e){return e&&e.__esModule?e:{default:e}}var m=s.default.createClass({displayName:"SectionDistribuicao",propTypes:{parentSlug:s.PropTypes.string,adminLevel:s.PropTypes.string,adminId:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number]),adminName:s.PropTypes.string,adminList:s.PropTypes.array,mapGeometries:s.PropTypes.object,municipios:s.PropTypes.array,onMapClick:s.PropTypes.func,popoverContent:s.PropTypes.func,overlayInfoContent:s.PropTypes.func},contingenteMatrix:{concelho:"Concelho","infra concelho":"Infra Concelho"},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=r.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderTrendLineChart:function(t,e){var a=(0,c.default)(function(e){var a=t[e];return s.default.createElement("ul",{className:"x-small"},s.default.createElement("li",null,s.default.createElement("span",{className:"tooltip-label"},a.year)," ",s.default.createElement("span",{className:"tooltip-number"},(0,d.formatPT)(a.value))),s.default.createElement("span",{className:"triangle"}))}),n={labels:t.map(function(e){return e.year}),datasets:[{data:t.map(function(e){return e.value}),lineTension:0,pointRadius:2,pointBorderWidth:0,pointBackgroundColor:"#2EB199",borderColor:"#2EB199",backgroundColor:"#fff",borderWidth:1}]},o={responsive:!1,layout:{padding:{left:5,top:3,right:5}},legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:{min:0}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:a}};return s.default.createElement(l.Line,{data:n,options:o,height:40,ref:this.addChartRef("chart-trend-".concat(e))})},renderTableRow:function(e){var a="/nuts/".concat(this.props.parentSlug,"/concelhos/").concat(r.default.kebabCase(e.name)),t=r.default.last(e.data["pop-residente"]).value;return s.default.createElement("li",{key:e.id},s.default.createElement("span",{className:"table-cell table-region"},s.default.createElement(n.Link,{to:a,title:"Ver página de ".concat(e.name)},e.name)),s.default.createElement("div",{className:"table-cell table-graph"},this.renderTrendLineChart(e.data["lic-geral"],e.id)),s.default.createElement("span",{className:"table-cell table-scope"},e.data.contingente?this.contingenteMatrix[e.data.contingente]:"Não Definido"),s.default.createElement("div",{className:"table-cell table-parking"},s.default.createElement("ul",{className:"inline-list"},s.default.createElement("li",{className:(0,i.default)("est est-livre",{active:-1!==e.data.estacionamento.indexOf("livre")})},"L"),s.default.createElement("li",{className:(0,i.default)("est est-condicionado",{active:-1!==e.data.estacionamento.indexOf("condicionado")})},"C"),s.default.createElement("li",{className:(0,i.default)("est est-fixo",{active:-1!==e.data.estacionamento.indexOf("fixo")})},"F"),s.default.createElement("li",{className:(0,i.default)("est est-escala",{active:-1!==e.data.estacionamento.indexOf("escala")})},"E"))),s.default.createElement("span",{className:"table-cell table-pop"},(0,d.formatPT)(t)))},renderTable:function(){var e=this.props.adminList;return s.default.createElement(o.StickyContainer,null,s.default.createElement("ul",{className:"table-distribution"},s.default.createElement("li",{className:"table-header"},s.default.createElement(o.Sticky,{topOffset:-56},s.default.createElement("span",{className:"table-cell table-region"},"REGIÃO ",s.default.createElement("span",{className:"block"},"(Concelho)")),s.default.createElement("span",{className:"table-cell table-graph"},"Evolução do ",s.default.createElement("span",{className:"block"},"Total de Licenças")),s.default.createElement("span",{className:"table-cell table-scope"},"Âmbito Geográfico ",s.default.createElement("span",{className:"block"},"do Contingente")),s.default.createElement("span",{className:"table-cell table-parking"},"Regime(s) de ",s.default.createElement("span",{className:"block"},"Estacionamento")),s.default.createElement("span",{className:"table-cell table-pop"},"População ",s.default.createElement("span",{className:"block"},"Residente")))),e.map(this.renderTableRow)))},renderMap:function(){if(!this.props.mapGeometries.fetched)return null;var o=function(e){return 0===e?"#f5f5f5":e<=10?"#FFCC45":e<=50?"#FDB13A":e<=100?"#FB8F2C":"#F8781F"},e=this.props.municipios.map(function(e){var a=r.default.last(e.data["lic-geral"]).value+r.default.last(e.data["lic-mob-reduzida"]).value,t=r.default.last(e.data["max-lic-geral"]).value+r.default.last(e.data["max-lic-mob-reduzida"]).value,n=t-a;return{id:e.id,color:o(n)}});return s.default.createElement("div",null,s.default.createElement(u.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick.bind(null,"distribuicao"),popoverContent:this.props.popoverContent,overlayInfoContent:this.props.overlayInfoContent.bind(null,"distribuicao")}),s.default.createElement("div",{className:"map-legend"},s.default.createElement("h6",{className:"legend-title"},"Vagas por município:"),s.default.createElement("ul",{className:"color-legend inline"},s.default.createElement("li",null,s.default.createElement("span",{style:{backgroundColor:o(10)}}),"< 10"),s.default.createElement("li",null,s.default.createElement("span",{style:{backgroundColor:o(50)}}),"11 a 50"),s.default.createElement("li",null,s.default.createElement("span",{style:{backgroundColor:o(51)}}),"50 a 100"),s.default.createElement("li",null,s.default.createElement("span",{style:{backgroundColor:o(101)}}),"> 100"),s.default.createElement("li",null,s.default.createElement("span",{style:{backgroundColor:o(0)}}),"Sem vagas"))))},render:function(){return s.default.createElement("div",{id:"distribuicao",className:"content-wrapper vertical-center"},s.default.createElement("div",{className:"center"},s.default.createElement("div",{className:"map-wrapper"},this.renderMap()),s.default.createElement("div",{className:"section-wrapper"},s.default.createElement("section",{className:"section-container"},s.default.createElement("header",{className:"section-header"},s.default.createElement("h3",{className:"section-category"},"nut"===this.props.adminLevel?s.default.createElement(n.Link,{to:"/#distribuicao",title:"Ver Portugal"},"Portugal"):null,"nut"===this.props.adminLevel?" › ":null,this.props.adminName),s.default.createElement("h1",null,"Detalhe Geográfico"),s.default.createElement("p",{className:"lead"},"Apresenta-se informação sobre as licenças, contingentes e regimes de estacionamento existentes a nível concelhio.")),s.default.createElement("div",{className:"section-content"},this.renderTable())))))}});a.exports=m},{"../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","../map":"/root/repo/app/assets/scripts/components/map.js",classnames:"classnames",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-router":"react-router","react-sticky":"react-sticky"}],"/root/repo/app/assets/scripts/components/sections/section-ambito.js":[function(e,a,t){"use strict";var i=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),r=e("react-router"),n=e("react-sticky"),s=e("react-chartjs-2"),c=p(e("lodash")),l=p(e("../../utils/tooltip")),d=e("../../utils/utils"),o=e("../../config"),u=p(e("../map"));function p(e){return e&&e.__esModule?e:{default:e}}var m=i.default.createClass({displayName:"SectionDistribuicao",propTypes:{adminLevel:i.PropTypes.string,adminName:i.PropTypes.string,adminId:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),adminList:i.PropTypes.array,licencasEndY:i.PropTypes.number,populacaoNational:i.PropTypes.number,mapGeometries:i.PropTypes.object,municipios:i.PropTypes.array,onMapClick:i.PropTypes.func,popoverContent:i.PropTypes.func,overlayInfoContent:i.PropTypes.func},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=c.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderTrendLineChart:function(t,e){var a=(0,l.default)(function(e){var a=t[e];return i.default.createElement("ul",{className:"x-small"},i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-label"},a.year)," ",i.default.createElement("span",{className:"tooltip-number"},(0,d.formatPT)(a.value))),i.default.createElement("span",{className:"triangle"}))}),n={labels:t.map(function(e){return e.year}),datasets:[{data:t.map(function(e){return e.value}),lineTension:0,pointRadius:2,pointBackgroundColor:"#0eaeaf",borderColor:"#256465",backgroundColor:"#fff",borderWidth:2}]},o={responsive:!1,layout:{padding:{left:5,top:3,right:5}},legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:{min:0}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:a}};return i.default.createElement(s.Line,{data:n,options:o,height:40,ref:this.addChartRef("chart-trend-".concat(e))})},renderTableRow:function(e){var a=this.props.licencasEndY,t=e.data.licencasEndY,n=e.data.maxEndY-t,o=(0,d.percent)(e.data.licencasEndY,a,0),s=c.default.last(e.data["pop-residente"]).value,l=(0,d.percent)(s,this.props.populacaoNational,0);return i.default.createElement("li",{key:e.id},i.default.createElement("span",{className:"table-cell table-region"},i.default.createElement(r.Link,{to:"/nuts/".concat(c.default.kebabCase(e.name)),title:"Ver página de ".concat(e.name)},e.name)),i.default.createElement("div",{className:"table-cell table-graph"},this.renderTrendLineChart(e.data["lic-geral"],e.id)),i.default.createElement("span",{className:"table-cell table-national"},(0,d.formatPT)(o),"%"),i.default.createElement("span",{className:"table-cell table-residents"},(0,d.formatPT)(l),"%"),i.default.createElement("span",{className:"table-cell table-available"},(0,d.formatPT)(n)))},renderTable:function(){var e=this.props.adminList;return i.default.createElement(n.StickyContainer,null,i.default.createElement("ul",{className:"table-distribution"},i.default.createElement("li",{className:"table-header"},i.default.createElement(n.Sticky,{topOffset:-56},i.default.createElement("span",{className:"table-cell table-region"},"REGIÃO ",i.default.createElement("span",{className:"block"},"(NUTS III)")),i.default.createElement("span",{className:"table-cell table-graph"},"Evolução do ",i.default.createElement("span",{className:"block"},"Total de Licenças")),i.default.createElement("span",{className:"table-cell table-national"},"% do Total de ",i.default.createElement("span",{className:"block"},"Licenças em Portugal")),i.default.createElement("span",{className:"table-cell table-residents"},"% do Total de Pop. ",i.default.createElement("span",{className:"block"},"Residente em Portugal")),i.default.createElement("span",{className:"table-cell table-available"},"Vagas Disponíveis ",i.default.createElement("span",{className:"block"},"(Dezembro ",o.endYear,")")))),e.map(this.renderTableRow)))},renderMap:function(){if(!this.props.mapGeometries.fetched)return null;var o=function(e){return 0===e?"#eaeaea":e<=10?"#FFCC45":e<=50?"#FDB13A":e<=100?"#FB8F2C":"#F8781F"},e=this.props.municipios.map(function(e){var a=c.default.last(e.data["lic-geral"]).value+c.default.last(e.data["lic-mob-reduzida"]).value,t=c.default.last(e.data["max-lic-geral"]).value+c.default.last(e.data["max-lic-mob-reduzida"]).value,n=t-a;return{id:e.id,color:o(n)}});return i.default.createElement("div",null,i.default.createElement(u.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick.bind(null,"distribuicao"),popoverContent:this.props.popoverContent,overlayInfoContent:this.props.overlayInfoContent.bind(null,"distribuicao")}),i.default.createElement("div",{className:"map-legend"},i.default.createElement("h6",{className:"legend-title"},"Vagas por Município:"),i.default.createElement("ul",{className:"color-legend inline"},i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:o(10)}}),"< 10"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:o(50)}}),"11 a 50"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:o(51)}}),"50 a 100"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:o(101)}}),"> 100"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:o(0)}}),"Sem vagas"))))},renderMap2:function(){var l=this;if(!this.props.mapGeometries.fetched)return null;var r=function(e){return"more-pop"===e?"#FB8F2C":"more-lic"===e?"#FDB13A":"#FFCC45"},e=this.props.municipios.map(function(e){var a=c.default.last(e.data["lic-geral"]).value+c.default.last(e.data["lic-mob-reduzida"]).value,t=(0,d.percent)(a,l.props.licencasEndY,0),n=c.default.last(e.data["pop-residente"]).value,o=(0,d.percent)(n,l.props.populacaoNational,0),s=r("equal");return t>o?s=r("more-lic"):t<o&&(s=r("more-pop")),{id:e.id,color:s}});return i.default.createElement("div",null,i.default.createElement(u.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick,popoverContent:this.props.popoverContent}),i.default.createElement("div",{className:"map-legend"},i.default.createElement("h6",{className:"legend-title"},"Percentagem de População vs Percentagem de Licenças:"),i.default.createElement("ul",{className:"color-legend inline"},i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:r("more-pop")}}),"> População"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:r("more-lic")}}),"> Licenças"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:r("equal")}}),"População = Licenças "))))},render:function(){return i.default.createElement("div",{id:"distribuicao",className:"content-wrapper vertical-center"},i.default.createElement("div",{className:"center"},i.default.createElement("div",{className:"section-wrapper"},i.default.createElement("section",{className:"section-container"},i.default.createElement("header",{className:"section-header"},i.default.createElement("h3",{className:"section-category"},"nut"===this.props.adminLevel?i.default.createElement(r.Link,{to:"/#distribuicao",title:"Ver Portugal"},"Portugal"):null,"nut"===this.props.adminLevel?" › ":null,this.props.adminName),i.default.createElement("h1",null,"Detalhe Geográfico"),i.default.createElement("p",{className:"lead"},"Não obstante as licenças municipais terem âmbito concelhio, apresenta-se a sua distribuição por região (NUTS III).")),i.default.createElement("div",{className:"section-content"},this.renderTable()),i.default.createElement("footer",{className:"section-footer"},i.default.createElement("p",null,i.default.createElement("strong",null,"Notas:")," Acrónimo de “Nomenclatura das Unidades Territoriais para Fins Estatísticos”. Constitui um sistema hierárquico de divisão do território em regiões, dividindo-se em 3 níveis (NUTS I, NUTS II, NUTS III), definidos tendo por base critérios populacionais, administrativos e geográficos. Atualmente, os 308 municípios nacionais estão agrupados em 25 NUTS III.")))),i.default.createElement("div",{className:"map-wrapper"},this.renderMap())))}});a.exports=m},{"../../config":"/root/repo/app/assets/scripts/config.js","../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","../map":"/root/repo/app/assets/scripts/components/map.js",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-router":"react-router","react-sticky":"react-sticky"}],"/root/repo/app/assets/scripts/components/sections/section-conclusoes.js":[function(e,a,t){"use strict";var r=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),i=e("react-chartjs-2"),n=o(e("lodash")),c=e("../../config"),d=o(e("../../utils/tooltip")),u=e("../../utils/utils");function o(e){return e&&e.__esModule?e:{default:e}}var s=r.default.createClass({displayName:"SectionConclusoes",propTypes:{licencasTimeline:r.PropTypes.array},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=n.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderTimeline:function(){var e=this.props.licencasTimeline.filter(function(e){return e.year!==c.startYear}),a={labels:e.map(function(e){return e.year}),datasets:[{data:e.map(function(e){return e["var-lic-all"]}),label:"Licenças",color:"#00ced1",backgroundColor:"transparent"},{data:e.map(function(e){return e["var-populacao"]}),label:"Residentes",color:"#FFCC45",backgroundColor:"transparent"},{data:e.map(function(e){return e["var-dormidas"]}),label:"Dormidas",color:"#F8781F",backgroundColor:"transparent"}]},t=a.labels.length-1,n=(0,d.default)(function(t){var e=a.labels[t];return r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement("span",{className:"tooltip-title"},e,":")),a.datasets.map(function(e){var a=e.data[t]?(0,u.formatPT)((0,u.round)(e.data[t],0))+"%":"N/D";return r.default.createElement("li",{key:e.label},r.default.createElement("span",{style:{backgroundColor:e.color},className:"tooltip-marker"}),r.default.createElement("span",{className:"tooltip-label"},e.label,":")," ",r.default.createElement("span",{className:"tooltip-number"},a))}),r.default.createElement("span",{className:"triangle"}))}),o=a.labels.map(function(e,a){return 0===a||a===t?e:""}),s={labels:o,datasets:a.datasets.map(function(e){return{data:e.data,backgroundColor:e.backgroundColor,borderColor:e.color,pointBorderWidth:0,pointBackgroundColor:e.color,pointRadius:2}})},l={responsive:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1},ticks:{maxRotation:0}}],yAxes:[{gridLines:{display:!1}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:n}};return r.default.createElement(i.Line,{data:s,options:l,height:80,ref:this.addChartRef("chart-timeline")})},render:function(){return r.default.createElement("div",{id:"conclusoes-wrapper",className:"content-wrapper vertical-center"},r.default.createElement("div",{id:"conclusoes",className:"container-wrapper content-wrapper vertical-center"},r.default.createElement("section",{className:"section-wrapper"},r.default.createElement("header",{className:"section-header"},r.default.createElement("h3",{className:"section-category"},"Portugal"),r.default.createElement("h1",null,"Conclusões"),r.default.createElement("p",{className:"lead"},"A recolha efetuada pela AMT constitui um primeiro passo para o aumento da transparência relativamente às condições de prestação de serviços de táxi em Portugal. É necessário continuar a aprofundar o conhecimento sobre o setor.")),r.default.createElement("div",{className:"section-content"},r.default.createElement("div",{className:"graph"},r.default.createElement("h6",{className:"legend-title"},"Taxa de variação acumulada (táxis licenciados, residentes e dormidas):"),this.renderTimeline()),r.default.createElement("div",{className:"section-stats"},r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement("h4",null,"Licenças e Contingentes"),r.default.createElement("p",null,"Existe uma grande disparidade no número de táxis por concelho. Os concelhos de Lisboa e do Porto possuem cerca de 31% dos táxis licenciados. Cerca de metade dos concelhos possuem 20 ou menos táxis licenciados.")),r.default.createElement("li",null,r.default.createElement("h4",null,"Detalhe Geográfico"),r.default.createElement("p",null,"Existem vagas nos contingentes em cerca de 46% dos concelhos. É comum identificarem-se diferenças entre a % de táxis licenciados numa região e a % da população aí residente.")),r.default.createElement("li",null,r.default.createElement("h4",null,"Evolução ",c.startYear,"—",c.endYear),r.default.createElement("p",null,"A oferta tem-se mantido estável. O número de táxis licenciados e o número de lugares nos contingentes cresceu menos de 1% na última década.")),r.default.createElement("li",null,r.default.createElement("h4",null,"Indicadores"),r.default.createElement("p",null,"Num cenário de estabilidade da oferta observam-se alterações relevantes em 2 fatores que podem influenciar a procura: a população residente e o turismo.")),r.default.createElement("li",null,r.default.createElement("h4",null,"Mobilidade Reduzida"),r.default.createElement("p",null,"Apesar da sua expressão marginal, observa-se um aumento significativo no número de licenças e no número de lugares previstos nestes contingentes.")),r.default.createElement("li",null,r.default.createElement("h4",null,"Regimes de Estacionamento"),r.default.createElement("p",null,"Sendo comum que num mesmo município coexistam vários regimes de estacionamento, constata-se que o regime fixo é aplicado em cerca de 80% dos municípios."))))),r.default.createElement("footer",{className:"section-footer"},r.default.createElement("p",null,"Este site foi desenvolvido pela AMT. Para mais informações pode ser consultado o documento - ",r.default.createElement("a",{href:"http://amt-autoridade.pt/media/2558/sintese-mercado-taxi-portugal-junho2020.pdf",title:"Descarregar Documento",target:"_blank"},"O Transporte em Táxi em Portugal."))))))}});a.exports=s},{"../../config":"/root/repo/app/assets/scripts/config.js","../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2"}],"/root/repo/app/assets/scripts/components/sections/section-estacionamento.js":[function(e,a,t){"use strict";var i=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),n=e("react-router"),c=e("react-chartjs-2"),d=l(e("lodash")),u=l(e("../../utils/tooltip")),s=e("../../utils/utils"),o=l(e("../map"));function l(e){return e&&e.__esModule?e:{default:e}}var r=i.default.createClass({displayName:"SectionEstacionamento",propTypes:{adminLevel:i.PropTypes.string,adminName:i.PropTypes.string,adminId:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),municipios:i.PropTypes.array,totalMunicipios:i.PropTypes.number,mapGeometries:i.PropTypes.object,onMapClick:i.PropTypes.func,popoverContent:i.PropTypes.func,overlayInfoContent:i.PropTypes.func},estLabels:{fixo:"Fixo",condicionado:"Condicionado",escala:"Escala",livre:"Livre",outros:"Outros",nd:"Indefinido"},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=d.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderPercentEstacionamento:function(){var t=this,n={fixo:{value:0},condicionado:{value:0},escala:{value:0},livre:{value:0},nd:{value:0}};this.props.municipios.forEach(function(e){return e.data.estacionamento.forEach(function(e){e=d.default.trim(e),e||(e="nd"),n[e].value++})}),n=(0,d.default)(n).map(function(e,a){return e.percent=(0,s.percent)(e.value,t.props.totalMunicipios,0),e.name=t.estLabels[a],e}).sortBy("value").reverse().value();var e=(0,u.default)(function(e){var a=n[e];return i.default.createElement("ul",{className:"small"},i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-label"},a.name,":")," ",i.default.createElement("span",{className:"tooltip-number"},a.percent,"%")),i.default.createElement("span",{className:"triangle"}))}),a={labels:n.map(function(e){return e.name}),datasets:[{data:n.map(function(e){return e.percent}),backgroundColor:"#F6B600"}]},o={responsive:!1,legend:{display:!1},scales:{xAxes:[{categoryPercentage:1,gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:e}};return i.default.createElement(c.Bar,{data:a,options:o,height:240,ref:this.addChartRef("chart-percent-est")})},renderCountEstacionamento:function(){var n=this,o={};this.props.municipios.forEach(function(e){var a=(0,d.default)(e.data.estacionamento).map(function(e){return""===e?"nd":d.default.trim(e)}).sort().value(),t=a.join("-");o[t]||(o[t]={value:0,types:a.map(function(e){return n.estLabels[e]}),key:t}),o[t].value++});var e=(0,d.default)(o).values().sortBy("value").reverse().value(),t=d.default.take(e,4),a=d.default.takeRight(e,e.length-4).reduce(function(e,a){return e.value+=a.value,e},{key:"outros",types:["Outros"],value:0});a.value&&t.push(a);var s=(0,u.default)(function(e){var a=t[e];return i.default.createElement("ul",{className:"small"},i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-label"},a.types.join(" & "),":")," ",i.default.createElement("span",{className:"tooltip-number"},a.value)),i.default.createElement("span",{className:"triangle"}))}),l={labels:t.map(function(e){return e.types.join(" & ")}),datasets:[{data:t.map(function(e){return e.value}),backgroundColor:["#FFB712","#FFC700","#FDD259","#FDDC7E","#FFE49D"],borderColor:"transparent"}]},r={responsive:!1,legend:{display:!1},startAngle:-1.25*Math.PI,scale:{ticks:{display:!1},gridLines:{lineWidth:.5}},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:s}};return i.default.createElement(c.Polar,{data:l,options:r,height:240,ref:this.addChartRef("chart-count-est")})},renderMap:function(){if(!this.props.mapGeometries.fetched)return null;var t=function(e){return"fixo"===e?"#00ced1":"condicionado-fixo"===e?"#0eaeaf":"condicionado"===e?"#1f8d8e":"fixo-livre"===e?"#256465":"condicionado-livre"===e?"#264242":"#B0DEDE"},e=this.props.municipios.map(function(e){var a=(0,d.default)(e.data.estacionamento).map(d.default.trim).sort().join("-");return{id:e.id,color:t(a)}});return i.default.createElement("div",null,i.default.createElement(o.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick.bind(null,"estacionamento"),popoverContent:this.props.popoverContent,overlayInfoContent:this.props.overlayInfoContent.bind(null,"estacionamento")}),i.default.createElement("div",{className:"map-legend"},i.default.createElement("h6",{className:"legend-title"},"Regime(s) de estacionamento por município:"),i.default.createElement("ul",{className:"color-legend two-by-side"},i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:t("fixo")}}),"Fixo"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:t("condicionado-fixo")}}),"Fixo e Condicionado"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:t("condicionado")}}),"Condicionado"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:t("fixo-livre")}}),"Fixo e Livre"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:t("condicionado-livre")}}),"Condicionado e Livre"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:t("outros")}}),"Outros Regimes"))))},render:function(){return i.default.createElement("div",{id:"estacionamento",className:"content-wrapper vertical-center"},i.default.createElement("div",{className:"center"},i.default.createElement("div",{className:"section-wrapper"},i.default.createElement("section",{className:"section-container"},i.default.createElement("header",{className:"section-header"},i.default.createElement("h3",{className:"section-category"},"nut"===this.props.adminLevel?i.default.createElement(n.Link,{to:"/#estacionamento",title:"Ver Portugal"},"Portugal"):null,"nut"===this.props.adminLevel?" › ":null,this.props.adminName),i.default.createElement("h1",null,"Regime de Estacionamento"),i.default.createElement("p",{className:"lead"},"Os municípios estabelecem os regimes de estacionamento de táxis que se aplicam no seu concelho. Em regra, estas disposições são definidas por regulamento municipal ou aquando da atribuição da licença ao veículo.")),i.default.createElement("div",{className:"section-content"},i.default.createElement("div",{className:"graph-container"},i.default.createElement("div",{className:"graph"},i.default.createElement("h6",{className:"legend-title"},"Municípios por regime de estacionamento (%):"),this.renderPercentEstacionamento()),i.default.createElement("div",{className:"graph"},i.default.createElement("h6",{className:"legend-title"},"Municípios por regime(s) de estacionamento (Nº):"),this.renderCountEstacionamento()))))),i.default.createElement("div",{className:"map-wrapper"},this.renderMap())))}});a.exports=r},{"../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","../map":"/root/repo/app/assets/scripts/components/map.js",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-router":"react-router"}],"/root/repo/app/assets/scripts/components/sections/section-evolucao.js":[function(e,a,t){"use strict";var i=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),r=e("react-router"),c=e("react-chartjs-2"),d=o(e("lodash")),u=o(e("../../utils/tooltip")),p=e("../../utils/utils"),m=e("../../config"),n=o(e("../map"));function o(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createClass({displayName:"SectionEvolucao",propTypes:{adminLevel:i.PropTypes.string,adminName:i.PropTypes.string,adminId:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),licencasEndY:i.PropTypes.number,licencasStartY:i.PropTypes.number,totalMunicipios:i.PropTypes.number,municipios:i.PropTypes.array,licencasTimeline:i.PropTypes.array,data:i.PropTypes.object,mapGeometries:i.PropTypes.object,onMapClick:i.PropTypes.func,popoverContent:i.PropTypes.func,overlayInfoContent:i.PropTypes.func},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=d.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderTimelineChart:function(){var t=this.props.licencasTimeline,n=t.length-1,e=(0,u.default)(function(e){var a=t[e];return i.default.createElement("ul",null,i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-title"},"Contingentes:")),i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-label"},"Geral:")," ",i.default.createElement("span",{className:"tooltip-number"},(0,p.formatPT)(a["lic-geral"]))),i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-label"},"Mob. Reduzida:")," ",i.default.createElement("span",{className:"tooltip-number"},(0,p.formatPT)(a["lic-mob-reduzida"]))),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:"#FFCC45"},className:"tooltip-marker"}),i.default.createElement("span",{className:"tooltip-label"},"Total Licenças:"),i.default.createElement("span",{className:"tooltip-number"},(0,p.formatPT)(a["lic-geral"]+a["lic-mob-reduzida"]))),i.default.createElement("span",{className:"triangle"}))}),a=t.map(function(e,a){return 0===a||a===n?e.year:""}),o={labels:a,datasets:[{data:t.map(function(e){return e["lic-geral"]+e["lic-mob-reduzida"]}),backgroundColor:"#eaeaea",borderColor:"#FFCC45",pointBorderWidth:0,pointBackgroundColor:"#FFCC45",pointRadius:3}]},s={responsive:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1},ticks:{maxRotation:0}}],yAxes:[{gridLines:{display:!1},ticks:{min:0}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:e}};return i.default.createElement(c.Line,{data:o,options:s,height:300,ref:this.addChartRef("chart-timeline")})},renderTopMunicipiosChart:function(){var t=(0,d.default)(this.props.municipios).sortBy("data.change").reverse().take(5).filter(function(e){return e.data.change>0}).value(),e=(0,u.default)(function(e){var a=t[e];return i.default.createElement("ul",{className:"small"},i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-label"},a.name,":")," ",i.default.createElement("span",{className:"tooltip-number"},"+",a.data.change)),i.default.createElement("span",{className:"triangle"}))}),a={labels:t.map(function(e){return e.name}),datasets:[{data:t.map(function(e){return e.data.change}),backgroundColor:"#FFCC45"}]},n={responsive:!1,legend:{display:!1},scales:{xAxes:[{categoryPercentage:1,gridLines:{display:!1},ticks:{autoSkip:!1}}],yAxes:[{gridLines:{display:!1}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:e}},o=[300,300,370,370,370][t.length-1];return i.default.createElement(c.Bar,{data:a,options:n,height:o,ref:this.addChartRef("chart-municipios")})},renderChangeLicencasChart:function(){var e=this.props,a=e.municipios,t=e.totalMunicipios,n=(0,d.default)(a).groupBy(function(e){return e.data.change>0?"increase":e.data.change<0?"decrease":"equal"}).map(function(e,a){return{key:a,value:e.length,percent:e.length/t*100}}).value(),o={increase:"Aumentou",equal:"Manteve",decrease:"Diminuiu"},s=(0,u.default)(function(e){var a=n[e];return i.default.createElement("ul",{className:"small"},i.default.createElement("li",null,i.default.createElement("span",{className:"tooltip-label"},o[a.key],":"),i.default.createElement("span",{className:"tooltip-number"},(0,p.formatPT)((0,p.round)(a.percent,1)),"%")),i.default.createElement("span",{className:"triangle"}))}),l={labels:n.map(function(e){return e.key}),datasets:[{data:n.map(function(e){return e.value}),borderWidth:0,backgroundColor:["#FFCC45","#FDB13A","#FB8F2C"]}]},r={responsive:!1,legend:{display:!1},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:s}};return i.default.createElement(c.Doughnut,{data:l,options:r,height:280,ref:this.addChartRef("chart-change")})},renderMap:function(){if(!this.props.mapGeometries.fetched)return null;var a=function(e){return e>0?"#256465":e<0?"#00ced1":"#1f8d8e"},e=this.props.municipios.map(function(e){return{id:e.id,color:a(e.data.change)}});return i.default.createElement("div",null,i.default.createElement(n.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick.bind(null,"evolucao"),popoverContent:this.props.popoverContent,overlayInfoContent:this.props.overlayInfoContent.bind(null,"evolucao")}),i.default.createElement("div",{className:"map-legend"},i.default.createElement("h6",{className:"legend-title"},"Variação de Licenças por Município:"),i.default.createElement("ul",{className:"color-legend inline"},i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:a(-1)}}),"Diminuiu"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:a(0)}}),"Manteve"),i.default.createElement("li",null,i.default.createElement("span",{style:{backgroundColor:a(1)}}),"Aumentou"))))},render:function(){var e=this.props,a=e.licencasEndY,t=e.licencasStartY,n=e.totalMunicipios,o=a-t,s=o/t*100,l=this.props.municipios.reduce(function(e,a){return 0===a.data.change?e+1:e},0);return i.default.createElement("div",{id:"evolucao",className:"content-wrapper vertical-center"},i.default.createElement("div",{className:"center"},i.default.createElement("div",{className:"section-wrapper"},i.default.createElement("section",{className:"section-container"},i.default.createElement("header",{className:"section-header"},i.default.createElement("h3",{className:"section-category"},"nut"===this.props.adminLevel?i.default.createElement(r.Link,{to:"/#evolucao",title:"Ver Portugal"},"Portugal"):null,"nut"===this.props.adminLevel?" › ":null,this.props.adminName),i.default.createElement("h1",null,"Evolução ",m.startYear,"—",m.endYear),i.default.createElement("p",{className:"lead"},"Para além de conhecer a realidade atual importa igualmente conhecer a evolução existente. Analisam-se os desenvolvimentos ocorridos de ",m.startYear," a ",m.endYear,".")),i.default.createElement("div",{className:"section-content"},i.default.createElement("div",{className:"section-stats"},i.default.createElement("ul",null,i.default.createElement("li",null,i.default.createElement("span",{className:"stat-number"},0!==o?i.default.createElement("span",null,o<0?"-":"+"):null,(0,p.formatPT)(Math.abs(o))),i.default.createElement("span",{className:"stat-description"},"Variação no número de ",i.default.createElement("span",{className:"block"},"licenças entre ",m.startYear," e ",m.endYear,"."))),i.default.createElement("li",null,i.default.createElement("span",{className:"stat-number"},0!==s?i.default.createElement("span",null,s<0?"-":"+"):null,(0,p.formatPT)((0,p.round)(Math.abs(s),0)),"%"),i.default.createElement("span",{className:"stat-description"},"Variação da % do número de ",i.default.createElement("span",{className:"block"},"licenças entre ",m.startYear," e ",m.endYear,"."))),i.default.createElement("li",null,i.default.createElement("span",{className:"stat-number"},(0,p.formatPT)((0,p.percent)(l,n,0)),"%"),i.default.createElement("span",{className:"stat-description"},"Dos municípios não registaram alteração nos táxis licenciados.")))),i.default.createElement("div",{className:"graph-container"},i.default.createElement("div",{className:"graph"},i.default.createElement("h6",{className:"legend-title"},"Evolução das licenças ",m.startYear," a ",m.endYear,":"),this.renderTimelineChart()),i.default.createElement("div",{className:"graph"},i.default.createElement("h6",{className:"legend-title"},"Municípios com maior aumento:"),this.renderTopMunicipiosChart()),i.default.createElement("div",{className:"graph"},i.default.createElement("h6",{className:"legend-title"},"Alterações do número de licenças:"),this.renderChangeLicencasChart()))),i.default.createElement("footer",{className:"section-footer"},i.default.createElement("p",null,i.default.createElement("strong",null,"Nota:")," Existem dados relativos a ",m.endYear," para todos os concelhos. Para os poucos concelhos em que não está disponível informação para todos os anos foram usados valores imputados. ",i.default.createElement(r.Link,{to:"/dados"},"Saber mais"))))),i.default.createElement("div",{className:"map-wrapper"},this.renderMap())))}});a.exports=s},{"../../config":"/root/repo/app/assets/scripts/config.js","../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","../map":"/root/repo/app/assets/scripts/components/map.js",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-router":"react-router"}],"/root/repo/app/assets/scripts/components/sections/section-indicadores.js":[function(e,a,t){"use strict";var r=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),n=e("react-router"),i=e("react-chartjs-2"),o=l(e("lodash")),c=l(e("../../utils/tooltip")),d=e("../../utils/utils"),s=l(e("../map"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createClass({displayName:"SectionResidentes",propTypes:{adminLevel:r.PropTypes.string,adminName:r.PropTypes.string,adminId:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),licencasHab:r.PropTypes.number,dormidas:r.PropTypes.array,chartLic1000Hab:r.PropTypes.object,chartLic1000Dor:r.PropTypes.object,mapGeometries:r.PropTypes.object,municipios:r.PropTypes.array,onMapClick:r.PropTypes.func,popoverContent:r.PropTypes.func,overlayInfoContent:r.PropTypes.func},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=o.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderLicencas1000Chart:function(t,e){var n=t.labels.length-1,a=(0,c.default)(function(a){var e=t.labels[a];return r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement("span",{className:"tooltip-title"},e,":")),t.datasets.map(function(e){return r.default.createElement("li",{key:e.label},r.default.createElement("span",{style:{backgroundColor:e.color},className:"tooltip-marker"}),r.default.createElement("span",{className:"tooltip-label"},e.label,":")," ",r.default.createElement("span",{className:"tooltip-number"},(0,d.formatPT)((0,d.round)(e.data[a]))))}),r.default.createElement("span",{className:"triangle"}))}),o=t.labels.map(function(e,a){return 0===a||a===n?e:""}),s={labels:o,datasets:t.datasets.map(function(e){return{data:e.data,backgroundColor:e.backgroundColor,borderColor:e.color,pointBorderWidth:0,pointBackgroundColor:e.color,pointRadius:2}})},l={responsive:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1},ticks:{maxRotation:0}}],yAxes:[{gridLines:{display:!1},ticks:{min:0}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:a}};return r.default.createElement(i.Line,{data:s,options:l,height:200,ref:this.addChartRef("chart-lic1000".concat(e))})},renderMap:function(){if(!this.props.mapGeometries.fetched)return null;var n=function(e){return e<=1?"#FFCC45":e<=2?"#FDB13A":e<=3?"#FB8F2C":e<=4?"#F8781F":e<=5?"#CE4116":"#B23E1D"},e=this.props.municipios.map(function(e){var a=o.default.last(e.data["lic-geral"]).value+o.default.last(e.data["lic-mob-reduzida"]).value,t=a/(o.default.last(e.data["pop-residente"]).value/1e3);return{id:e.id,color:n(t)}});return r.default.createElement("div",null,r.default.createElement(s.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick.bind(null,"indicadores"),popoverContent:this.props.popoverContent,overlayInfoContent:this.props.overlayInfoContent.bind(null,"indicadores")}),r.default.createElement("div",{className:"map-legend"},r.default.createElement("h6",{className:"legend-title"},"Táxis licenciados por 1000 residentes:"),r.default.createElement("ul",{className:"color-legend inline"},r.default.createElement("li",null,r.default.createElement("span",{style:{backgroundColor:n(1)}}),"1"),r.default.createElement("li",null,r.default.createElement("span",{style:{backgroundColor:n(2)}}),"2"),r.default.createElement("li",null,r.default.createElement("span",{style:{backgroundColor:n(3)}}),"3"),r.default.createElement("li",null,r.default.createElement("span",{style:{backgroundColor:n(4)}}),"4"),r.default.createElement("li",null,r.default.createElement("span",{style:{backgroundColor:n(5)}}),"5"),r.default.createElement("li",null,r.default.createElement("span",{style:{backgroundColor:n(6)}}),"+6"))))},render:function(){var e=o.default.last(this.props.dormidas).lic1000;return e=e?(0,d.round)(e,1):"N/A",r.default.createElement("div",{id:"indicadores",className:"content-wrapper vertical-center"},r.default.createElement("div",{className:"center"},r.default.createElement("div",{className:"section-wrapper"},r.default.createElement("section",{className:"section-container"},r.default.createElement("header",{className:"section-header"},r.default.createElement("h3",{className:"section-category"},"nut"===this.props.adminLevel?r.default.createElement(n.Link,{to:"/#indicadores",title:"Ver Portugal"},"Portugal"):null,"nut"===this.props.adminLevel?" › ":null,this.props.adminName),r.default.createElement("h1",null,"Indicadores"),r.default.createElement("p",{className:"lead"},"Os indicadores que associam o número de táxis a fatores com influência na sua procura são uma forma útil de analisar a realidade e a sua evolução.")),r.default.createElement("div",{className:"section-content"},r.default.createElement("div",{className:"section-stats"},r.default.createElement("ul",{className:"two-columns"},r.default.createElement("li",null,r.default.createElement("span",{className:"stat-number"},(0,d.formatPT)((0,d.round)(this.props.licencasHab,1))),r.default.createElement("span",{className:"stat-description"},"Táxis licenciados por 1000 residentes.")),"national"===this.props.adminLevel?r.default.createElement("li",null,r.default.createElement("span",{className:"stat-number"},(0,d.formatPT)(e)),r.default.createElement("span",{className:"stat-description"},"Táxis licenciados por 1000 dormidas.")):null)),r.default.createElement("div",{className:"graph-container"},r.default.createElement("div",{className:"graph"},r.default.createElement("h6",{className:"legend-title"},"Evolução dos táxis licenciados por 1000 residentes:"),this.renderLicencas1000Chart(this.props.chartLic1000Hab,"hab")),"national"===this.props.adminLevel?r.default.createElement("div",{className:"graph"},r.default.createElement("h6",{className:"legend-title"},"Evolução dos táxis licenciados por 1000 dormidas:"),this.renderLicencas1000Chart(this.props.chartLic1000Dor,"dor")):null)),r.default.createElement("footer",{className:"section-footer"},r.default.createElement("p",null,r.default.createElement("strong",null,"Nota I:")," Os valores dos indicadores devem ser analisados caso a caso e comparados com particular precaução. A consideração de outros fatores com influência na procura poderá melhor enquadrar as diferenças existentes."),"national"===this.props.adminLevel?r.default.createElement("p",null,r.default.createElement("strong",null,"Nota II:")," Dormidas nos estabelecimentos hoteleiros (estabelecimento cuja atividade principal consiste na prestação de serviços de alojamento e de outros serviços acessórios ou de apoio, mediante pagamento)."):null))),r.default.createElement("div",{className:"map-wrapper"},this.renderMap())))}});a.exports=u},{"../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","../map":"/root/repo/app/assets/scripts/components/map.js",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-router":"react-router"}],"/root/repo/app/assets/scripts/components/sections/section-intro.js":[function(e,a,t){"use strict";var n,o=(n=e("react"),n&&n.__esModule?n:{default:n}),s=e("../../config");var l=o.default.createClass({displayName:"SectionIntro",render:function(){return o.default.createElement("div",{id:"intro-wrapper"},o.default.createElement("div",{id:"intro",className:"container-wrapper content-wrapper"},o.default.createElement("section",null,o.default.createElement("h2",{id:"intro-logo"},o.default.createElement("a",{href:"#"},"Autoridade da Mobilidade e dos Transportes")),o.default.createElement("h1",null,"Táxis em Portugal ",o.default.createElement("span",{className:"block"},s.startYear,"–",s.endYear)),o.default.createElement("h3",{className:"section-category"},"Observatório dos Mercados da Mobilidade,",o.default.createElement("span",{className:"block"}," Preços e Estratégias Empresariais")),o.default.createElement("ul",{className:"social-share"},o.default.createElement("li",null,o.default.createElement("a",{className:"facebook",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(window.location.href)),title:"Partilhar no Facebook"},o.default.createElement("span",{className:"i-facebook"}))),o.default.createElement("li",null,o.default.createElement("a",{className:"linkedin",href:"https://www.linkedin.com/shareArticle?mini=true&title=Observat%C3%B3rio%20da%20Mobilidade%20e%20dos%20Transportes%20&url=".concat(encodeURIComponent(window.location.href)),title:"Partilhar no LinkedIn"},o.default.createElement("span",{className:"i-linkedin2"}))),o.default.createElement("li",null,o.default.createElement("a",{className:"twitter",href:"https://twitter.com/home?status=".concat(encodeURIComponent(window.location.href)),title:"Partilhar no Twitter"},o.default.createElement("span",{className:"i-twitter"}))),o.default.createElement("li",null,o.default.createElement("a",{className:"googleplus",href:"https://plus.google.com/share?url=".concat(encodeURIComponent(window.location.href)),title:"Partilhar no Google+"},o.default.createElement("span",{className:"i-google-plus"})))))))}});a.exports=l},{"../../config":"/root/repo/app/assets/scripts/config.js",react:"react"}],"/root/repo/app/assets/scripts/components/sections/section-licencas.js":[function(e,a,t){"use strict";var o=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),n=e("react-router"),s=e("react-chartjs-2"),l=u(e("lodash")),r=u(e("../../utils/tooltip")),i=e("../../utils/utils"),c=e("../../config"),d=u(e("../map"));function u(e){return e&&e.__esModule?e:{default:e}}var p=o.default.createClass({displayName:"SectionLicencas",propTypes:{adminLevel:o.PropTypes.string,adminName:o.PropTypes.string,adminId:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.number]),adminList:o.PropTypes.array,licencasEndY:o.PropTypes.number,maxEndY:o.PropTypes.number,licencasHab:o.PropTypes.number,mapGeometries:o.PropTypes.object,municipios:o.PropTypes.array,onMapClick:o.PropTypes.func,popoverContent:o.PropTypes.func,overlayInfoContent:o.PropTypes.func},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=l.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderChart:function(){var t=(0,l.default)(this.props.adminList).sortBy("data.licencasEndY").reverse().value(),e=(0,r.default)(function(e){var a=t[e];return o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement("span",{className:"tooltip-title"},a.name)),o.default.createElement("li",null,o.default.createElement("span",{className:"tooltip-label"},"Contingente:"),o.default.createElement("span",{className:"tooltip-number"},(0,i.formatPT)(a.data.maxEndY))),o.default.createElement("li",null,o.default.createElement("span",{className:"tooltip-label"},"Licenças activas:")," ",o.default.createElement("span",{className:"tooltip-number"},(0,i.formatPT)(a.data.licencasEndY))),o.default.createElement("li",null,o.default.createElement("span",{className:"tooltip-label"},"Vagas disponíveis:")," ",o.default.createElement("span",{className:"tooltip-number"},(0,i.formatPT)(a.data.maxEndY-a.data.licencasEndY))),o.default.createElement("span",{className:"triangle"}))}),a={labels:t.map(function(e){return e.display}),datasets:[{data:t.map(function(e){return e.data.licencasEndY}),backgroundColor:"#FFCC45"},{data:t.map(function(e){return e.data.maxEndY-e.data.licencasEndY}),backgroundColor:"#FDB13C"}]},n={responsive:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1},ticks:{fontSize:10,autoSkip:!1}}],yAxes:[{stacked:!0,gridLines:{display:!1}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:e}};return o.default.createElement(s.Bar,{data:a,options:n,height:120,ref:this.addChartRef("chart")})},renderMap:function(){if(!this.props.mapGeometries.fetched)return null;var t=function(e){return e<=10?"#00ced1":e<=30?"#0eaeaf":e<=100?"#1f8d8e":e<=1e3?"#256465":"#264242"},e=this.props.municipios.map(function(e){var a=l.default.last(e.data["lic-geral"]).value;return{id:e.id,color:t(a)}});return o.default.createElement("div",null,o.default.createElement(d.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick.bind(null,"licencas"),popoverContent:this.props.popoverContent,overlayInfoContent:this.props.overlayInfoContent.bind(null,"licencas")}),o.default.createElement("div",{className:"map-legend"},o.default.createElement("h6",{className:"legend-title"},"Licenças por Município:"),o.default.createElement("ul",{className:"color-legend inline"},o.default.createElement("li",null,o.default.createElement("span",{style:{backgroundColor:t(10)}})," < 10"),o.default.createElement("li",null,o.default.createElement("span",{style:{backgroundColor:t(30)}}),"11 a 30"),o.default.createElement("li",null,o.default.createElement("span",{style:{backgroundColor:t(100)}}),"31 a 100"),o.default.createElement("li",null,o.default.createElement("span",{style:{backgroundColor:t(1e3)}}),"101 a 1000"),o.default.createElement("li",null,o.default.createElement("span",{style:{backgroundColor:t(1e4)}})," > 1000 "))))},render:function(){var e=this.props,a=e.licencasEndY,t=e.maxEndY;return o.default.createElement("div",{id:"licencas",className:"content-wrapper vertical-center"},o.default.createElement("div",{className:"center"},o.default.createElement("div",{className:"section-wrapper"},o.default.createElement("section",{className:"section-container"},o.default.createElement("header",{className:"section-header"},o.default.createElement("h3",{className:"section-category"},"nut"===this.props.adminLevel?o.default.createElement(n.Link,{to:"/#licencas",title:"Ver Portugal"},"Portugal"):null,"nut"===this.props.adminLevel?" › ":null,this.props.adminName),o.default.createElement("h1",null,"Licenças e Contingentes"),o.default.createElement("p",{className:"lead"},"A prestação de serviços de táxi implica a posse de uma licença por cada veículo utilizado. Os municípios atribuem estas licenças e definem o número máximo de veículos que pode ser licenciado no seu concelho – o contingente.")),o.default.createElement("div",{className:"section-content"},o.default.createElement("div",{className:"section-stats"},o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement("span",{className:"stat-number"},(0,i.formatPT)(a)),o.default.createElement("span",{className:"stat-description"},"Total de táxis licenciados ",o.default.createElement("span",{className:"block"},"em dezembro de ",c.endYear,"."))),o.default.createElement("li",null,o.default.createElement("span",{className:"stat-number"},(0,i.formatPT)(t)),o.default.createElement("span",{className:"stat-description"},"Total dos contingentes ",o.default.createElement("span",{className:"block"},"em dezembro de ",c.endYear,"."))),o.default.createElement("li",null,o.default.createElement("span",{className:"stat-number"},(0,i.formatPT)(t-a)),o.default.createElement("span",{className:"stat-description"},"Total de vagas existentes ",o.default.createElement("span",{className:"block"},"em dezembro de ",c.endYear,"."))))),o.default.createElement("h6",{className:"legend-title"},"Licenças e vagas nos contingentes:"),this.renderChart()))),o.default.createElement("div",{className:"map-wrapper"},this.renderMap())))}});a.exports=p},{"../../config":"/root/repo/app/assets/scripts/config.js","../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","../map":"/root/repo/app/assets/scripts/components/map.js",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-router":"react-router"}],"/root/repo/app/assets/scripts/components/sections/section-mobilidade.js":[function(e,a,t){"use strict";var u=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),p=e("react-router"),r=e("react-chartjs-2"),i=o(e("lodash")),c=o(e("../../utils/tooltip")),m=e("../../utils/utils"),f=e("../../config"),n=o(e("../map"));function o(e){return e&&e.__esModule?e:{default:e}}var s=u.default.createClass({displayName:"SectionMobilidade",propTypes:{adminLevel:u.PropTypes.string,adminName:u.PropTypes.string,adminId:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),totalMunicipiosMobReduzida:u.PropTypes.number,totalMunicipios:u.PropTypes.number,licencasEndY:u.PropTypes.number,licencasStartY:u.PropTypes.number,licencasMobReduzidaEndY:u.PropTypes.number,licencasMobReduzidaStartY:u.PropTypes.number,licencasTimeline:u.PropTypes.array,mapGeometries:u.PropTypes.object,municipios:u.PropTypes.array,onMapClick:u.PropTypes.func,popoverContent:u.PropTypes.func,overlayInfoContent:u.PropTypes.func},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&(this.chartsRef=this.chartsRef.concat([e])),e},componentDidMount:function(){this.onWindowResize=i.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},componentWillUnmount:function(){this.chartsRef=[],window.removeEventListener("resize",this.onWindowResize)},renderLicencasChart:function(){var e=this.props.licencasEndY,a=this.props.licencasMobReduzidaEndY,t=e-a,n=[{label:"Geral",value:t,percent:(0,m.percent)(t,e,1),backgroundColor:"#00ced1"},{label:"CMR",value:a,percent:(0,m.percent)(a,e,1),backgroundColor:"#256465"}],o=(0,c.default)(function(e){var a=n[e];return u.default.createElement("ul",{className:"small"},u.default.createElement("li",null,u.default.createElement("span",{className:"tooltip-label"},(0,m.formatPT)(a.label),":"),u.default.createElement("span",{className:"tooltip-number"},(0,m.formatPT)(a.percent),"%")),u.default.createElement("span",{className:"triangle"}))}),s={labels:i.default.map(n,"label"),datasets:[{data:i.default.map(n,"value"),backgroundColor:i.default.map(n,"backgroundColor"),borderWidth:0}]},l={responsive:!1,legend:{display:!1},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:o}};return u.default.createElement(r.Pie,{data:s,options:l,height:200,ref:this.addChartRef("chart-lic")})},renderTimelineChart:function(){var t=this.props.licencasTimeline,n=t.length-1,e=(0,c.default)(function(e){var a=t[e];return u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement("span",{className:"tooltip-label"},a.year)," ",u.default.createElement("span",{className:"tooltip-number"},(0,m.formatPT)(a["lic-mob-reduzida"]))),u.default.createElement("span",{className:"triangle"}))}),a=t.map(function(e,a){return 0===a||a===n?e.year:""}),o={labels:a,datasets:[{data:t.map(function(e){return e["lic-mob-reduzida"]}),backgroundColor:"#eaeaea",borderColor:"#00CED1",pointBorderWidth:0,pointBackgroundColor:"#00CED1",pointRadius:3}]},s={responsive:!1,layout:{padding:{top:10}},legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1},ticks:{maxRotation:0}}],yAxes:[{gridLines:{display:!1},ticks:{min:0}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:e}};return u.default.createElement(r.Line,{data:o,options:s,height:200,ref:this.addChartRef("chart-timeline")})},renderMap:function(){if(!this.props.mapGeometries.fetched)return null;var e=this.props.municipios.map(function(e){var a=i.default.last(e.data["lic-mob-reduzida"]).value>0;return{id:e.id,color:a?"#FFCC45":"#f2f2f2"}});return u.default.createElement("div",null,u.default.createElement(n.default,{className:"map-svg",geometries:this.props.mapGeometries.data,data:e,nut:this.props.adminId,onClick:this.props.onMapClick.bind(null,"mobilidade"),popoverContent:this.props.popoverContent,overlayInfoContent:this.props.overlayInfoContent.bind(null,"mobilidade")}),u.default.createElement("div",{className:"map-legend"},u.default.createElement("h6",{className:"legend-title"},"Municípios com CMR:"),u.default.createElement("ul",{className:"color-legend inline"},u.default.createElement("li",null,u.default.createElement("span",{style:{backgroundColor:"#FFCC45"}}),"Com CMR"),u.default.createElement("li",null,u.default.createElement("span",{style:{backgroundColor:"#f5f5f5"}}),"Sem CMR"))))},render:function(){var e=this.props,a=e.totalMunicipiosMobReduzida,t=e.totalMunicipios,n=e.licencasEndY,o=e.licencasStartY,s=e.licencasMobReduzidaEndY,l=e.licencasMobReduzidaStartY,r=(0,m.percent)(a,t,0),i=n-o,c=s-l,d=(0,m.percent)(c,i,0);return u.default.createElement("div",{id:"mobilidade",className:"content-wrapper vertical-center"},u.default.createElement("div",{className:"center"},u.default.createElement("div",{className:"section-wrapper"},u.default.createElement("section",{className:"section-container"},u.default.createElement("header",{className:"section-header"},u.default.createElement("h3",{className:"section-category"},"nut"===this.props.adminLevel?u.default.createElement(p.Link,{to:"/#mobilidade",title:"Ver Portugal"},"Portugal"):null,"nut"===this.props.adminLevel?" › ":null,this.props.adminName),u.default.createElement("h1",null,"Mobilidade Reduzida"),u.default.createElement("p",{className:"lead"},"A legislação prevê a possibilidade de criar contingentes de táxis para o transporte de pessoas com mobilidade reduzida sempre que a necessidade deste tipo de veículos não possa ser assegurada pela adaptação dos táxis existentes no concelho.")),s?u.default.createElement("div",{className:"section-content"},u.default.createElement("div",{className:"section-stats"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement("span",{className:"stat-number"},(0,m.formatPT)(r),"%"),u.default.createElement("span",{className:"stat-description"},"Dos municípios (",a,") emitiram licenças em contingentes de mobilidade reduzida (CMR).")),u.default.createElement("li",null,u.default.createElement("span",{className:"stat-number"},(0,m.formatPT)(c)),u.default.createElement("span",{className:"stat-description"},"Novas licenças emitidas ",u.default.createElement("span",{className:"block"},"em CMR desde ",f.startYear,"."))),"national"===this.props.adminLevel?u.default.createElement("li",null,u.default.createElement("span",{className:"stat-number"},(0,m.formatPT)(d),"%"),u.default.createElement("span",{className:"stat-description"},"Do aumento no total de licenças resulta do crescimento de licenças em CMR.")):null)),u.default.createElement("div",{className:"graph"},u.default.createElement("h6",{className:"legend-title"},"Licenças por tipo de contingente (%):"),this.renderLicencasChart()),u.default.createElement("div",{className:"graph"},u.default.createElement("h6",{className:"legend-title"},"Evolução do número de licenças em CMR:"),this.renderTimelineChart())):u.default.createElement("div",{className:"section-content"},u.default.createElement("p",{className:"no-data"},"Os municípios integrados na região ",this.props.adminName," não definiram contingentes especiais para pessoas com mobilidade reduzida.")),u.default.createElement("footer",{className:"section-footer"},u.default.createElement("p",null,u.default.createElement("strong",null,"Nota:")," O número de táxis adaptados para o transporte de pessoas com mobilidade reduzida será superior ao apresentado. Estes veículos adaptados podem estar licenciados nos contingentes gerais. A AMT pretende aprofundar o conhecimento sobre esta matéria.")))),u.default.createElement("div",{className:"map-wrapper"},this.renderMap())))}});a.exports=s},{"../../config":"/root/repo/app/assets/scripts/config.js","../../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","../map":"/root/repo/app/assets/scripts/components/map.js",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-router":"react-router"}],"/root/repo/app/assets/scripts/config.js":[function(e,a,t){"use strict";var n=e("lodash").defaultsDeep,o={local:e("./config/local.js"),production:e("./config/production.js"),staging:e("./config/staging.js")},s=o.local||{};n(s,o.production),a.exports=s},{"./config/local.js":"/root/repo/app/assets/scripts/config/local.js","./config/production.js":"/root/repo/app/assets/scripts/config/production.js","./config/staging.js":"/root/repo/app/assets/scripts/config/staging.js",lodash:"lodash"}],"/root/repo/app/assets/scripts/config/local.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={environment:"development"}},{}],"/root/repo/app/assets/scripts/config/production.js":[function(e,a,t){"use strict";a.exports={environment:"production",api:"https://raw.githubusercontent.com/AMT-Autoridade/taxis",rawGitApi:"https://cdn.jsdelivr.net/gh/AMT-Autoridade/taxis",startYear:2006,endYear:2017}},{}],"/root/repo/app/assets/scripts/config/staging.js":[function(e,a,t){"use strict";a.exports={environment:"staging"}},{}],"/root/repo/app/assets/scripts/main.js":[function(e,a,t){"use strict";e("babel-polyfill"),e("./utils/classlist-polyfill");var n=y(e("react")),o=e("react-dom"),s=e("react-redux"),l=e("react-router"),r=e("react-router-scroll"),i=e("react-router-redux"),c=y(e("./utils/store")),d=e("./utils/admin-areas"),u=y(e("./views/app")),p=y(e("./views/home")),m=y(e("./views/nuts")),f=y(e("./views/concelhos")),h=y(e("./views/glossario")),g=y(e("./views/sobre")),v=y(e("./views/dados")),E=y(e("./views/uhoh"));function y(e){return e&&e.__esModule?e:{default:e}}var b=(0,i.syncHistoryWithStore)(l.hashHistory,c.default),C=(0,r.useScroll)(function(e,a){return!a.location.hash&&(e&&decodeURIComponent(a.location.pathname)!==decodeURIComponent(e.location.pathname))});(0,o.render)(n.default.createElement(s.Provider,{store:c.default},n.default.createElement(l.Router,{history:b,render:(0,l.applyRouterMiddleware)(C)},n.default.createElement(l.Route,{path:"/",component:u.default},n.default.createElement(l.Route,{path:"404",component:E.default}),n.default.createElement(l.Route,{path:"glossario",component:h.default}),n.default.createElement(l.Route,{path:"sobre",component:g.default}),n.default.createElement(l.Route,{path:"dados",component:v.default}),n.default.createElement(l.Route,{path:"/nuts/:nut",component:m.default,onEnter:d.onEnterNut}),n.default.createElement(l.Route,{path:"/nuts/:nut/concelhos/:concelho",component:f.default,onEnter:d.onEnterConcelho}),n.default.createElement(l.IndexRoute,{component:p.default,pageClass:"page--homepage"}),n.default.createElement(l.Route,{path:"*",component:E.default})))),document.querySelector("#app-container"))},{"./utils/admin-areas":"/root/repo/app/assets/scripts/utils/admin-areas.js","./utils/classlist-polyfill":"/root/repo/app/assets/scripts/utils/classlist-polyfill.js","./utils/store":"/root/repo/app/assets/scripts/utils/store.js","./views/app":"/root/repo/app/assets/scripts/views/app.js","./views/concelhos":"/root/repo/app/assets/scripts/views/concelhos.js","./views/dados":"/root/repo/app/assets/scripts/views/dados.js","./views/glossario":"/root/repo/app/assets/scripts/views/glossario.js","./views/home":"/root/repo/app/assets/scripts/views/home.js","./views/nuts":"/root/repo/app/assets/scripts/views/nuts.js","./views/sobre":"/root/repo/app/assets/scripts/views/sobre.js","./views/uhoh":"/root/repo/app/assets/scripts/views/uhoh.js","babel-polyfill":"babel-polyfill",react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router","react-router-redux":"react-router-redux","react-router-scroll":"react-router-scroll"}],"/root/repo/app/assets/scripts/reducers/concelho.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case s.INVALIDATE_CONCELHO:return Object.assign({},e,r);case s.REQUEST_CONCELHO:return Object.assign({},e,{error:null,fetching:!0,fetched:!1});case s.RECEIVE_CONCELHO:if(e=Object.assign({},e,{fetching:!1,fetched:!0}),a.error)e.error=a.error;else{var t=a.data.results.find(function(e){return e.slug===a.nutSlug}).concelhos.find(function(e){return e.slug===a.concelhoSlug});e.data=function(n){var t=function(e,a){return o.default.find(e.data["lic-geral"],["year",a]).value+o.default.find(e.data["lic-mob-reduzida"],["year",a]).value};return n.data.licencasStartY=t(n,l.startYear),n.data.licencasEndY=t(n,l.endYear),n.data.maxEndY=o.default.last(n.data["max-lic-geral"]).value+o.default.last(n.data["max-lic-mob-reduzida"]).value,n.data.change=n.data.licencasEndY-n.data.licencasStartY,n.data.dormidas=n.data.dormidas.map(function(e){var a=t(n,e.year);return e.lic1000=e.value?a/(e.value/1e3):null,e}),n.data.licencasTimeline=o.default.range(l.startYear,l.endYear+1).map(function(e,a){var t={year:e,"lic-geral":n.data["lic-geral"][a].value,"lic-mob-reduzida":n.data["lic-mob-reduzida"][a].value,"max-lic-geral":n.data["max-lic-geral"][a].value,"max-lic-mob-reduzida":n.data["max-lic-mob-reduzida"][a].value};return t["pop-residente"]=n.data["pop-residente"][a].value,t.lic1000=(t["lic-geral"]+t["lic-mob-reduzida"])/(t["pop-residente"]/1e3),t}),n}(t)}}return e};var n,o=(n=e("lodash"),n&&n.__esModule?n:{default:n}),s=e("../actions"),l=e("../config");var r={fetching:!1,fetched:!1,data:{}}},{"../actions":"/root/repo/app/assets/scripts/actions/index.js","../config":"/root/repo/app/assets/scripts/config.js",lodash:"lodash"}],"/root/repo/app/assets/scripts/reducers/index.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.reducers=void 0;var n=e("redux"),o=e("react-router-redux"),s=c(e("./national")),l=c(e("./nut")),r=c(e("./concelho")),i=c(e("./map"));function c(e){return e&&e.__esModule?e:{default:e}}var d={national:s.default,nut:l.default,concelho:r.default,mapData:i.default};t.reducers=d;var u=(0,n.combineReducers)(Object.assign({},d,{routing:o.routerReducer}));t.default=u},{"./concelho":"/root/repo/app/assets/scripts/reducers/concelho.js","./map":"/root/repo/app/assets/scripts/reducers/map.js","./national":"/root/repo/app/assets/scripts/reducers/national.js","./nut":"/root/repo/app/assets/scripts/reducers/nut.js","react-router-redux":"react-router-redux",redux:"redux"}],"/root/repo/app/assets/scripts/reducers/map.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.REQUEST_MAP_DATA:return Object.assign({},e,{error:null,fetching:!0,fetched:!1});case n.RECEIVE_MAP_DATA:e=Object.assign({},e,{fetching:!1,fetched:!0}),a.error?e.error=a.error:e.data=a.data}return e};var n=e("../actions"),o={fetching:!1,fetched:!1,data:{}}},{"../actions":"/root/repo/app/assets/scripts/actions/index.js"}],"/root/repo/app/assets/scripts/reducers/national.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case o.INVALIDATE_NATIONAL:return l=!1,Object.assign({},e,s);case o.REQUEST_NATIONAL:return Object.assign({},e,{error:null,fetching:!0,fetched:!1});case o.RECEIVE_CONCELHO:case o.RECEIVE_NUT:case o.RECEIVE_NATIONAL:e=Object.assign({},e,{fetching:!1,fetched:!0}),a.error?e.error=a.error:l||(l=!0,e.data=function(e){var n=e.results,t=c.default.findIndex(e.results,function(e){return 1===parseInt(e.id)});n=n.filter(function(e,a){return a!==t});var o={nuts:n,dormidas:c.default.sortBy(e.results[t].data.dormidas,"year")},s=function(e,a){return c.default.find(e.data["lic-geral"],["year",a]).value+c.default.find(e.data["lic-mob-reduzida"],["year",a]).value};o.nuts=c.default.sortBy(n,"slug"),n=n.map(function(e){e.data.licencasStartY=s(e,d.startYear),e.data.licencasEndY=s(e,d.endYear),e.data.maxEndY=c.default.last(e.data["max-lic-geral"]).value+c.default.last(e.data["max-lic-mob-reduzida"]).value;var n=e.data["lic-geral"].length-1;return e.concelhos=e.concelhos.map(function(e){e.data["lic-geral"]||console.error("Concelho: ".concat(e.name,' doesn\'t have data on "lic-geral"'));var a=c.default.get(e.data,"lic-geral[0].value",0)+c.default.get(e.data,"lic-mob-reduzida[0].value",0),t=c.default.get(e.data,"lic-geral[".concat(n,"].value"),0)+c.default.get(e.data,"lic-mob-reduzida[".concat(n,"].value"),0);return e.data.change=t-a,e}),e}),o.concelhos=o.nuts.reduce(function(e,a){return e.concat(a.concelhos)},[]),o.licencasStartY=c.default.sumBy(n,"data.licencasStartY"),o.licencasMobReduzidaStartY=c.default.sumBy(n,function(e){return e.data["lic-mob-reduzida"][0].value}),o.licencasMobReduzidaEndY=c.default.sumBy(n,function(e){return c.default.last(e.data["lic-mob-reduzida"]).value}),o.licencasEndY=c.default.sumBy(n,"data.licencasEndY"),o.maxEndY=c.default.sumBy(n,"data.maxEndY"),o.populacao=c.default.sumBy(n,function(e){return c.default.last(e.data["pop-residente"]).value}),o.licencasHab=o.licencasEndY/(o.populacao/1e3),o.totalMunicipios=c.default.sumBy(n,function(e){return e.concelhos.length}),o.dormidas=o.dormidas.map(function(a){var e=c.default.sumBy(n,function(e){return s(e,a.year)});return a.lic1000=e/(a.value/1e3),a}),o.totalMunicipiosMobReduzida=c.default.sumBy(n,function(e){return e.concelhos.filter(function(e){return e.data["lic-mob-reduzida"]?0!==c.default.last(e.data["lic-mob-reduzida"]).value:(console.error("Concelho: ".concat(e.name,' doesn\'t have data on "lic-mob-reduzida"')),!1)}).length});var l=n.find(function(e){return"PT170"===e.id}),r=n.find(function(e){return"PT11A"===e.id}),i={dormidas:o.dormidas[0].value,populacao:c.default.sumBy(n,function(e){return e.data["pop-residente"][0].value}),licencas:o.licencasStartY};return o.licencasTimeline=c.default.range(d.startYear,d.endYear+1).map(function(e,a){var t={year:e,"lic-geral":c.default.sumBy(n,"data['lic-geral'][".concat(a,"].value")),"lic-mob-reduzida":c.default.sumBy(n,"data['lic-mob-reduzida'][".concat(a,"].value")),"max-lic-geral":c.default.sumBy(n,"data['max-lic-geral'][".concat(a,"].value")),"max-lic-mob-reduzida":c.default.sumBy(n,"data['max-lic-mob-reduzida'][".concat(a,"].value"))};return t["pop-residente"]=c.default.sumBy(n,"data['pop-residente'][".concat(a,"].value")),t.lic1000=(t["lic-geral"]+t["lic-mob-reduzida"])/(t["pop-residente"]/1e3),t["lic1000-lx"]=(l.data["lic-geral"][a].value+l.data["lic-mob-reduzida"][a].value)/(l.data["pop-residente"][a].value/1e3),t["lic1000-por"]=(r.data["lic-geral"][a].value+r.data["lic-mob-reduzida"][a].value)/(r.data["pop-residente"][a].value/1e3),t["var-lic-all"]=(t["lic-geral"]+t["lic-mob-reduzida"]-i.licencas)/i.licencas*100,t["var-populacao"]=(t["pop-residente"]-i.populacao)/i.populacao*100,t["var-dormidas"]=(o.dormidas[a].value-i.dormidas)/i.dormidas*100,t}),o}(a.data))}return e};var n,c=(n=e("lodash"),n&&n.__esModule?n:{default:n}),o=e("../actions"),d=e("../config");var s={fetching:!1,fetched:!1,data:{}},l=!1},{"../actions":"/root/repo/app/assets/scripts/actions/index.js","../config":"/root/repo/app/assets/scripts/config.js",lodash:"lodash"}],"/root/repo/app/assets/scripts/reducers/nut.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case s.INVALIDATE_NUT:return i=!1,Object.assign({},e,r);case s.REQUEST_NUT:return Object.assign({},e,{error:null,fetching:!0,fetched:!1});case s.RECEIVE_NUT:case s.RECEIVE_CONCELHO:if(e=Object.assign({},e,{fetching:!1,fetched:!0}),a.error)e.error=a.error;else if(i!==a.nutSlug){i=a.nutSlug;var t=a.data.results.find(function(e){return e.slug===a.nutSlug});e.data=function(n){return n.concelhos=o.default.sortBy(n.concelhos,"slug"),n.concelhos=n.concelhos.map(function(e){return e.data.licencasStartY=e.data["lic-geral"][0].value+e.data["lic-mob-reduzida"][0].value,e.data.licencasEndY=o.default.last(e.data["lic-geral"]).value+o.default.last(e.data["lic-mob-reduzida"]).value,e.data.maxEndY=o.default.last(e.data["max-lic-geral"]).value+o.default.last(e.data["max-lic-mob-reduzida"]).value,e.data.change=e.data.licencasEndY-e.data.licencasStartY,e}),n.data.licencasStartY=n.data["lic-geral"][0].value+n.data["lic-mob-reduzida"][0].value,n.data.licencasMobReduzidaStartY=o.default.sumBy(n.concelhos,function(e){return e.data["lic-mob-reduzida"][0].value}),n.data.licencasMobReduzidaEndY=o.default.sumBy(n.concelhos,function(e){return o.default.last(e.data["lic-mob-reduzida"]).value}),n.data.licencasEndY=o.default.last(n.data["lic-geral"]).value+o.default.last(n.data["lic-mob-reduzida"]).value,n.data.maxEndY=o.default.last(n.data["max-lic-geral"]).value+o.default.last(n.data["max-lic-mob-reduzida"]).value,n.data.populacao=o.default.last(n.data["pop-residente"]).value,n.data.licencasHab=n.data.licencasEndY/(n.data.populacao/1e3),n.data.totalMunicipios=n.concelhos.length,n.data.totalMunicipiosMobReduzida=o.default.sumBy(n.concelhos,function(e){return o.default.last(e.data["lic-mob-reduzida"]).value?1:0}),n.data.licencasTimeline=o.default.range(l.startYear,l.endYear+1).map(function(e,a){var t={year:e,"lic-geral":n.data["lic-geral"][a].value,"lic-mob-reduzida":n.data["lic-mob-reduzida"][a].value,"max-lic-geral":n.data["max-lic-geral"][a].value,"max-lic-mob-reduzida":n.data["max-lic-mob-reduzida"][a].value};return t["pop-residente"]=n.data["pop-residente"][a].value,t.lic1000=(t["lic-geral"]+t["lic-mob-reduzida"])/(t["pop-residente"]/1e3),t}),n}(t)}}return e};var n,o=(n=e("lodash"),n&&n.__esModule?n:{default:n}),s=e("../actions"),l=e("../config");var r={fetching:!1,fetched:!1,data:{}},i=!1},{"../actions":"/root/repo/app/assets/scripts/actions/index.js","../config":"/root/repo/app/assets/scripts/config.js",lodash:"lodash"}],"/root/repo/app/assets/scripts/utils/admin-areas.json":[function(e,a,t){a.exports={meta:{name:"observatorio-taxis-data",description:"The NUT3 areas with their concelhos",source:{name:"Autoridade da Mobilidade e dos Transportes",web:"http://www.amt-autoridade.pt"},license:"CC-BY-4.0"},results:[{id:"PT16D",name:"Região de Aveiro",slug:"regiao-de-aveiro",display:"Região de Aveiro",concelhos:[{id:101,name:"Águeda",slug:"agueda",display:"Águeda"},{id:102,name:"Albergaria-a-Velha",slug:"albergaria-a-velha",display:"Albergaria-a-Velha"},{id:103,name:"Anadia",slug:"anadia",display:"Anadia"},{id:105,name:"Aveiro",slug:"aveiro",display:"Aveiro"},{id:108,name:"Estarreja",slug:"estarreja",display:"Estarreja"},{id:110,name:"Ílhavo",slug:"ilhavo",display:"Ílhavo"},{id:112,name:"Murtosa",slug:"murtosa",display:"Murtosa"},{id:114,name:"Oliveira do Bairro",slug:"oliveira-do-bairro",display:"Oliveira do Bairro"},{id:115,name:"Ovar",slug:"ovar",display:"Ovar"},{id:117,name:"Sever do Vouga",slug:"sever-do-vouga",display:"Sever do Vouga"},{id:118,name:"Vagos",slug:"vagos",display:"Vagos"}]},{id:"PT11A",name:"Área Metropolitana do Porto",slug:"area-metropolitana-do-porto",display:" AM Porto",concelhos:[{id:104,name:"Arouca",slug:"arouca",display:"Arouca"},{id:107,name:"Espinho",slug:"espinho",display:"Espinho"},{id:109,name:"Santa Maria da Feira",slug:"santa-maria-da-feira",display:"Santa Maria da Feira"},{id:113,name:"Oliveira de Azeméis",slug:"oliveira-de-azemeis",display:"Oliveira de Azeméis"},{id:116,name:"São João da Madeira",slug:"sao-joao-da-madeira",display:"São João da Madeira"},{id:119,name:"Vale de Cambra",slug:"vale-de-cambra",display:"Vale de Cambra"},{id:1304,name:"Gondomar",slug:"gondomar",display:"Gondomar"},{id:1306,name:"Maia",slug:"maia",display:"Maia"},{id:1308,name:"Matosinhos",slug:"matosinhos",display:"Matosinhos"},{id:1310,name:"Paredes",slug:"paredes",display:"Paredes"},{id:1312,name:"Porto",slug:"porto",display:"Porto"},{id:1313,name:"Póvoa de Varzim",slug:"povoa-de-varzim",display:"Póvoa de Varzim"},{id:1314,name:"Santo Tirso",slug:"santo-tirso",display:"Santo Tirso"},{id:1315,name:"Valongo",slug:"valongo",display:"Valongo"},{id:1316,name:"Vila do Conde",slug:"vila-do-conde",display:"Vila do Conde"},{id:1317,name:"Vila Nova de Gaia",slug:"vila-nova-de-gaia",display:"V.N. Gaia"},{id:1318,name:"Trofa",slug:"trofa",display:"Trofa"}]},{id:"PT11C",name:"Tâmega e Sousa",slug:"tamega-e-sousa",display:"Tâmega e Sousa",concelhos:[{id:106,name:"Castelo de Paiva",slug:"castelo-de-paiva",display:"Castelo de Paiva"},{id:305,name:"Celorico de Basto",slug:"celorico-de-basto",display:"Celorico de Basto"},{id:1301,name:"Amarante",slug:"amarante",display:"Amarante"},{id:1302,name:"Baião",slug:"baiao",display:"Baião"},{id:1303,name:"Felgueiras",slug:"felgueiras",display:"Felgueiras"},{id:1305,name:"Lousada",slug:"lousada",display:"Lousada"},{id:1307,name:"Marco de Canaveses",slug:"marco-de-canaveses",display:"Marco de Canaveses"},{id:1309,name:"Paços de Ferreira",slug:"pacos-de-ferreira",display:"Paços de Ferreira"},{id:1311,name:"Penafiel",slug:"penafiel",display:"Penafiel"},{id:1804,name:"Cinfães",slug:"cinfaes",display:"Cinfães"},{id:1813,name:"Resende",slug:"resende",display:"Resende"}]},{id:"PT16E",name:"Região de Coimbra",slug:"regiao-de-coimbra",display:"Região de Coimbra",concelhos:[{id:111,name:"Mealhada",slug:"mealhada",display:"Mealhada"},{id:601,name:"Arganil",slug:"arganil",display:"Arganil"},{id:602,name:"Cantanhede",slug:"cantanhede",display:"Cantanhede"},{id:603,name:"Coimbra",slug:"coimbra",display:"Coimbra"},{id:604,name:"Condeixa-A-Nova",slug:"condeixa-a-nova",display:"Condeixa-A-Nova"},{id:605,name:"Figueira da Foz",slug:"figueira-da-foz",display:"Figueira da Foz"},{id:606,name:"Góis",slug:"gois",display:"Góis"},{id:607,name:"Lousã",slug:"lousa",display:"Lousã"},{id:608,name:"Mira",slug:"mira",display:"Mira"},{id:609,name:"Miranda do Corvo",slug:"miranda-do-corvo",display:"Miranda do Corvo"},{id:610,name:"Montemor-o-Velho",slug:"montemor-o-velho",display:"Montemor-o-Velho"},{id:611,name:"Oliveira do Hospital",slug:"oliveira-do-hospital",display:"Oliveira do Hospital"},{id:612,name:"Pampilhosa da Serra",slug:"pampilhosa-da-serra",display:"Pampilhosa da Serra"},{id:613,name:"Penacova",slug:"penacova",display:"Penacova"},{id:614,name:"Penela",slug:"penela",display:"Penela"},{id:615,name:"Soure",slug:"soure",display:"Soure"},{id:616,name:"Tábua",slug:"tabua",display:"Tábua"},{id:617,name:"Vila Nova de Poiares",slug:"vila-nova-de-poiares",display:"V.N. Poiares"},{id:1808,name:"Mortágua",slug:"mortagua",display:"Mortágua"}]},{id:"PT184",name:"Baixo Alentejo",slug:"baixo-alentejo",display:"Baixo Alentejo",concelhos:[{id:201,name:"Aljustrel",slug:"aljustrel",display:"Aljustrel"},{id:202,name:"Almodôvar",slug:"almodovar",display:"Almodôvar"},{id:203,name:"Alvito",slug:"alvito",display:"Alvito"},{id:204,name:"Barrancos",slug:"barrancos",display:"Barrancos"},{id:205,name:"Beja",slug:"beja",display:"Beja"},{id:206,name:"Castro Verde",slug:"castro-verde",display:"Castro Verde"},{id:207,name:"Cuba",slug:"cuba",display:"Cuba"},{id:208,name:"Ferreira do Alentejo",slug:"ferreira-do-alentejo",display:"Ferreira do Alentejo"},{id:209,name:"Mértola",slug:"mertola",display:"Mértola"},{id:210,name:"Moura",slug:"moura",display:"Moura"},{id:212,name:"Ourique",slug:"ourique",display:"Ourique"},{id:213,name:"Serpa",slug:"serpa",display:"Serpa"},{id:214,name:"Vidigueira",slug:"vidigueira",display:"Vidigueira"}]},{id:"PT181",name:"Alentejo Litoral",slug:"alentejo-litoral",display:"Alentejo Litoral",concelhos:[{id:211,name:"Odemira",slug:"odemira",display:"Odemira"},{id:1501,name:"Alcácer do Sal",slug:"alcacer-do-sal",display:"Alcácer do Sal"},{id:1505,name:"Grândola",slug:"grandola",display:"Grândola"},{id:1509,name:"Santiago do Cacém",slug:"santiago-do-cacem",display:"Santiago do Cacém"},{id:1513,name:"Sines",slug:"sines",display:"Sines"}]},{id:"PT112",name:"Cávado",slug:"cavado",display:"Cávado",concelhos:[{id:301,name:"Amares",slug:"amares",display:"Amares"},{id:302,name:"Barcelos",slug:"barcelos",display:"Barcelos"},{id:303,name:"Braga",slug:"braga",display:"Braga"},{id:306,name:"Esposende",slug:"esposende",display:"Esposende"},{id:310,name:"Terras de Bouro",slug:"terras-de-bouro",display:"Terras de Bouro"},{id:313,name:"Vila Verde",slug:"vila-verde",display:"Vila Verde"}]},{id:"PT119",name:"Ave",slug:"ave",display:"Ave",concelhos:[{id:304,name:"Cabeceiras de Basto",slug:"cabeceiras-de-basto",display:"Cabeceiras de Basto"},{id:307,name:"Fafe",slug:"fafe",display:"Fafe"},{id:308,name:"Guimarães",slug:"guimaraes",display:"Guimarães"},{id:309,name:"Póvoa de Lanhoso",slug:"povoa-de-lanhoso",display:"Póvoa de Lanhoso"},{id:311,name:"Vieira do Minho",slug:"vieira-do-minho",display:"Vieira do Minho"},{id:312,name:"Vila Nova de Famalicão",slug:"vila-nova-de-famalicao",display:"V.N. Famalicão"},{id:314,name:"Vizela",slug:"vizela",display:"Vizela"},{id:1705,name:"Mondim de Basto",slug:"mondim-de-basto",display:"Mondim de Basto"}]},{id:"PT11E",name:"Terras de Trás-os-Montes",slug:"terras-de-tras-os-montes",display:"Terras de Trás-os-Montes",concelhos:[{id:401,name:"Alfândega da Fé",slug:"alfandega-da-fe",display:"Alfândega da Fé"},{id:402,name:"Bragança",slug:"braganca",display:"Bragança"},{id:405,name:"Macedo de Cavaleiros",slug:"macedo-de-cavaleiros",display:"Macedo de Cavaleiros"},{id:406,name:"Miranda do Douro",slug:"miranda-do-douro",display:"Miranda do Douro"},{id:407,name:"Mirandela",slug:"mirandela",display:"Mirandela"},{id:408,name:"Mogadouro",slug:"mogadouro",display:"Mogadouro"},{id:410,name:"Vila Flor",slug:"vila-flor",display:"Vila Flor"},{id:411,name:"Vimioso",slug:"vimioso",display:"Vimioso"},{id:412,name:"Vinhais",slug:"vinhais",display:"Vinhais"}]},{id:"PT11D",name:"Douro",slug:"douro",display:"Douro",concelhos:[{id:403,name:"Carrazeda de Ansiães",slug:"carrazeda-de-ansiaes",display:"Carrazeda de Ansiães"},{id:404,name:"Freixo de Espada à Cinta",slug:"freixo-de-espada-a-cinta",display:"Freixo de Espada à Cinta"},{id:409,name:"Torre de Moncorvo",slug:"torre-de-moncorvo",display:"Torre de Moncorvo"},{id:914,name:"Vila Nova de Foz Côa",slug:"vila-nova-de-foz-coa",display:"V.N. Foz Côa"},{id:1701,name:"Alijó",slug:"alijo",display:"Alijó"},{id:1704,name:"Mesão Frio",slug:"mesao-frio",display:"Mesão Frio"},{id:1707,name:"Murça",slug:"murca",display:"Murça"},{id:1708,name:"Peso da Régua",slug:"peso-da-regua",display:"Peso da Régua"},{id:1710,name:"Sabrosa",slug:"sabrosa",display:"Sabrosa"},{id:1711,name:"Santa Marta de Penaguião",slug:"santa-marta-de-penaguiao",display:"Santa Marta de Penaguião"},{id:1714,name:"Vila Real",slug:"vila-real",display:"Vila Real"},{id:1801,name:"Armamar",slug:"armamar",display:"Armamar"},{id:1805,name:"Lamego",slug:"lamego",display:"Lamego"},{id:1807,name:"Moimenta da Beira",slug:"moimenta-da-beira",display:"Moimenta da Beira"},{id:1812,name:"Penedono",slug:"penedono",display:"Penedono"},{id:1815,name:"São João da Pesqueira",slug:"sao-joao-da-pesqueira",display:"São João da Pesqueira"},{id:1818,name:"Sernancelhe",slug:"sernancelhe",display:"Sernancelhe"},{id:1819,name:"Tabuaço",slug:"tabuaco",display:"Tabuaço"},{id:1820,name:"Tarouca",slug:"tarouca",display:"Tarouca"}]},{id:"PT16J",name:"Beiras e Serra da Estrela",slug:"beiras-e-serra-da-estrela",display:"Beiras e Serra da Estrela",concelhos:[{id:501,name:"Belmonte",slug:"belmonte",display:"Belmonte"},{id:503,name:"Covilhã",slug:"covilha",display:"Covilhã"},{id:504,name:"Fundão",slug:"fundao",display:"Fundão"},{id:902,name:"Almeida",slug:"almeida",display:"Almeida"},{id:903,name:"Celorico da Beira",slug:"celorico-da-beira",display:"Celorico da Beira"},{id:904,name:"Figueira de Castelo Rodrigo",slug:"figueira-de-castelo-rodrigo",display:"Figueira de Castelo Rodrigo"},{id:905,name:"Fornos de Algodres",slug:"fornos-de-algodres",display:"Fornos de Algodres"},{id:906,name:"Gouveia",slug:"gouveia",display:"Gouveia"},{id:907,name:"Guarda",slug:"guarda",display:"Guarda"},{id:908,name:"Manteigas",slug:"manteigas",display:"Manteigas"},{id:909,name:"Mêda",slug:"meda",display:"Mêda"},{id:910,name:"Pinhel",slug:"pinhel",display:"Pinhel"},{id:911,name:"Sabugal",slug:"sabugal",display:"Sabugal"},{id:912,name:"Seia",slug:"seia",display:"Seia"},{id:913,name:"Trancoso",slug:"trancoso",display:"Trancoso"}]},{id:"PT16H",name:"Beira Baixa",slug:"beira-baixa",display:"Beira Baixa",concelhos:[{id:502,name:"Castelo Branco",slug:"castelo-branco",display:"Castelo Branco"},{id:505,name:"Idanha-a-Nova",slug:"idanha-a-nova",display:"Idanha-a-Nova"},{id:506,name:"Oleiros",slug:"oleiros",display:"Oleiros"},{id:507,name:"Penamacor",slug:"penamacor",display:"Penamacor"},{id:508,name:"Proença-a-Nova",slug:"proenca-a-nova",display:"Proença-a-Nova"},{id:511,name:"Vila Velha de Ródão",slug:"vila-velha-de-rodao",display:"Vila Velha de Ródão"}]},{id:"PT16I",name:"Médio Tejo",slug:"medio-tejo",display:"Médio Tejo",concelhos:[{id:509,name:"Sertã",slug:"serta",display:"Sertã"},{id:510,name:"Vila de Rei",slug:"vila-de-rei",display:"Vila de Rei"},{id:1401,name:"Abrantes",slug:"abrantes",display:"Abrantes"},{id:1402,name:"Alcanena",slug:"alcanena",display:"Alcanena"},{id:1408,name:"Constância",slug:"constancia",display:"Constância"},{id:1410,name:"Entroncamento",slug:"entroncamento",display:"Entroncamento"},{id:1411,name:"Ferreira do Zêzere",slug:"ferreira-do-zezere",display:"Ferreira do Zêzere"},{id:1413,name:"Mação",slug:"macao",display:"Mação"},{id:1417,name:"Sardoal",slug:"sardoal",display:"Sardoal"},{id:1418,name:"Tomar",slug:"tomar",display:"Tomar"},{id:1419,name:"Torres Novas",slug:"torres-novas",display:"Torres Novas"},{id:1420,name:"Vila Nova da Barquinha",slug:"vila-nova-da-barquinha",display:"V.N. Barquinha"},{id:1421,name:"Ourém",slug:"ourem",display:"Ourém"}]},{id:"PT187",name:"Alentejo Central",slug:"alentejo-central",display:"Alentejo Central",concelhos:[{id:701,name:"Alandroal",slug:"alandroal",display:"Alandroal"},{id:702,name:"Arraiolos",slug:"arraiolos",display:"Arraiolos"},{id:703,name:"Borba",slug:"borba",display:"Borba"},{id:704,name:"Estremoz",slug:"estremoz",display:"Estremoz"},{id:705,name:"Évora",slug:"evora",display:"Évora"},{id:706,name:"Montemor-o-Novo",slug:"montemor-o-novo",display:"Montemor-o-Novo"},{id:707,name:"Mora",slug:"mora",display:"Mora"},{id:708,name:"Mourão",slug:"mourao",display:"Mourão"},{id:709,name:"Portel",slug:"portel",display:"Portel"},{id:710,name:"Redondo",slug:"redondo",display:"Redondo"},{id:711,name:"Reguengos de Monsaraz",slug:"reguengos-de-monsaraz",display:"Reguengos de Monsaraz"},{id:712,name:"Vendas Novas",slug:"vendas-novas",display:"Vendas Novas"},{id:713,name:"Viana do Alentejo",slug:"viana-do-alentejo",display:"Viana do Alentejo"},{id:714,name:"Vila Viçosa",slug:"vila-vicosa",display:"Vila Viçosa"}]},{id:"PT150",name:"Algarve",slug:"algarve",display:"Algarve",concelhos:[{id:801,name:"Albufeira",slug:"albufeira",display:"Albufeira"},{id:802,name:"Alcoutim",slug:"alcoutim",display:"Alcoutim"},{id:803,name:"Aljezur",slug:"aljezur",display:"Aljezur"},{id:804,name:"Castro Marim",slug:"castro-marim",display:"Castro Marim"},{id:805,name:"Faro",slug:"faro",display:"Faro"},{id:806,name:"Lagoa",slug:"lagoa",display:"Lagoa"},{id:807,name:"Lagos",slug:"lagos",display:"Lagos"},{id:808,name:"Loulé",slug:"loule",display:"Loulé"},{id:809,name:"Monchique",slug:"monchique",display:"Monchique"},{id:810,name:"Olhão",slug:"olhao",display:"Olhão"},{id:811,name:"Portimão",slug:"portimao",display:"Portimão"},{id:812,name:"São Brás de Alportel",slug:"sao-bras-de-alportel",display:"São Brás de Alportel"},{id:813,name:"Silves",slug:"silves",display:"Silves"},{id:814,name:"Tavira",slug:"tavira",display:"Tavira"},{id:815,name:"Vila do Bispo",slug:"vila-do-bispo",display:"Vila do Bispo"},{id:816,name:"Vila Real de Santo António",slug:"vila-real-de-santo-antonio",display:"Vila Real de Santo António"}]},{id:"PT16G",name:"Viseu Dão-Lafões",slug:"viseu-dao-lafoes",display:"Viseu Dão-Lafões",concelhos:[{id:901,name:"Aguiar da Beira",slug:"aguiar-da-beira",display:"Aguiar da Beira"},{id:1802,name:"Carregal do Sal",slug:"carregal-do-sal",display:"Carregal do Sal"},{id:1803,name:"Castro Daire",slug:"castro-daire",display:"Castro Daire"},{id:1806,name:"Mangualde",slug:"mangualde",display:"Mangualde"},{id:1809,name:"Nelas",slug:"nelas",display:"Nelas"},{id:1810,name:"Oliveira de Frades",slug:"oliveira-de-frades",display:"Oliveira de Frades"},{id:1811,name:"Penalva do Castelo",slug:"penalva-do-castelo",display:"Penalva do Castelo"},{id:1814,name:"Santa Comba Dão",slug:"santa-comba-dao",display:"Santa Comba Dão"},{id:1816,name:"São Pedro do Sul",slug:"sao-pedro-do-sul",display:"São Pedro do Sul"},{id:1817,name:"Sátão",slug:"satao",display:"Sátão"},{id:1821,name:"Tondela",slug:"tondela",display:"Tondela"},{id:1822,name:"Vila Nova de Paiva",slug:"vila-nova-de-paiva",display:"V.N. Paiva"},{id:1823,name:"Viseu",slug:"viseu",display:"Viseu"},{id:1824,name:"Vouzela",slug:"vouzela",display:"Vouzela"}]},{id:"PT16B",name:"Oeste",slug:"oeste",display:"Oeste",concelhos:[{id:1001,name:"Alcobaça",slug:"alcobaca",display:"Alcobaça"},{id:1005,name:"Bombarral",slug:"bombarral",display:"Bombarral"},{id:1006,name:"Caldas da Rainha",slug:"caldas-da-rainha",display:"Caldas da Rainha"},{id:1011,name:"Nazaré",slug:"nazare",display:"Nazaré"},{id:1012,name:"Óbidos",slug:"obidos",display:"Óbidos"},{id:1014,name:"Peniche",slug:"peniche",display:"Peniche"},{id:1101,name:"Alenquer",slug:"alenquer",display:"Alenquer"},{id:1102,name:"Arruda dos Vinhos",slug:"arruda-dos-vinhos",display:"Arruda dos Vinhos"},{id:1104,name:"Cadaval",slug:"cadaval",display:"Cadaval"},{id:1108,name:"Lourinhã",slug:"lourinha",display:"Lourinhã"},{id:1112,name:"Sobral de Monte Agraço",slug:"sobral-de-monte-agraco",display:"Sobral de Monte Agraço"},{id:1113,name:"Torres Vedras",slug:"torres-vedras",display:"Torres Vedras"}]},{id:"PT16F",name:"Região de Leiria",slug:"regiao-de-leiria",display:"Região de Leiria",concelhos:[{id:1002,name:"Alvaiázere",slug:"alvaiazere",display:"Alvaiázere"},{id:1003,name:"Ansião",slug:"ansiao",display:"Ansião"},{id:1004,name:"Batalha",slug:"batalha",display:"Batalha"},{id:1007,name:"Castanheira de Pêra",slug:"castanheira-de-pera",display:"Castanheira de Pêra"},{id:1008,name:"Figueiró dos Vinhos",slug:"figueiro-dos-vinhos",display:"Figueiró dos Vinhos"},{id:1009,name:"Leiria",slug:"leiria",display:"Leiria"},{id:1010,name:"Marinha Grande",slug:"marinha-grande",display:"Marinha Grande"},{id:1013,name:"Pedrógão Grande",slug:"pedrogao-grande",display:"Pedrógão Grande"},{id:1015,name:"Pombal",slug:"pombal",display:"Pombal"},{id:1016,name:"Porto de Mós",slug:"porto-de-mos",display:"Porto de Mós"}]},{id:"PT185",name:"Lezíria do Tejo",slug:"leziria-do-tejo",display:"Lezíria do Tejo",concelhos:[{id:1103,name:"Azambuja",slug:"azambuja",display:"Azambuja"},{id:1403,name:"Almeirim",slug:"almeirim",display:"Almeirim"},{id:1404,name:"Alpiarça",slug:"alpiarca",display:"Alpiarça"},{id:1405,name:"Benavente",slug:"benavente",display:"Benavente"},{id:1406,name:"Cartaxo",slug:"cartaxo",display:"Cartaxo"},{id:1407,name:"Chamusca",slug:"chamusca",display:"Chamusca"},{id:1409,name:"Coruche",slug:"coruche",display:"Coruche"},{id:1412,name:"Golegã",slug:"golega",display:"Golegã"},{id:1414,name:"Rio Maior",slug:"rio-maior",display:"Rio Maior"},{id:1415,name:"Salvaterra de Magos",slug:"salvaterra-de-magos",display:"Salvaterra de Magos"},{id:1416,name:"Santarém",slug:"santarem",display:"Santarém"}]},{id:"PT170",name:"Área Metropolitana de Lisboa",slug:"area-metropolitana-de-lisboa",display:" AM Lisboa",concelhos:[{id:1105,name:"Cascais",slug:"cascais",display:"Cascais"},{id:1106,name:"Lisboa",slug:"lisboa",display:"Lisboa"},{id:1107,name:"Loures",slug:"loures",display:"Loures"},{id:1109,name:"Mafra",slug:"mafra",display:"Mafra"},{id:1110,name:"Oeiras",slug:"oeiras",display:"Oeiras"},{id:1111,name:"Sintra",slug:"sintra",display:"Sintra"},{id:1114,name:"Vila Franca de Xira",slug:"vila-franca-de-xira",display:"Vila Franca de Xira"},{id:1115,name:"Amadora",slug:"amadora",display:"Amadora"},{id:1116,name:"Odivelas",slug:"odivelas",display:"Odivelas"},{id:1502,name:"Alcochete",slug:"alcochete",display:"Alcochete"},{id:1503,name:"Almada",slug:"almada",display:"Almada"},{id:1504,name:"Barreiro",slug:"barreiro",display:"Barreiro"},{id:1506,name:"Moita",slug:"moita",display:"Moita"},{id:1507,name:"Montijo",slug:"montijo",display:"Montijo"},{id:1508,name:"Palmela",slug:"palmela",display:"Palmela"},{id:1510,name:"Seixal",slug:"seixal",display:"Seixal"},{id:1511,name:"Sesimbra",slug:"sesimbra",display:"Sesimbra"},{id:1512,name:"Setúbal",slug:"setubal",display:"Setúbal"}]},{id:"PT186",name:"Alto Alentejo",slug:"alto-alentejo",display:"Alto Alentejo",concelhos:[{id:1201,name:"Alter do Chão",slug:"alter-do-chao",display:"Alter do Chão"},{id:1202,name:"Arronches",slug:"arronches",display:"Arronches"},{id:1203,name:"Avis",slug:"avis",display:"Avis"},{id:1204,name:"Campo Maior",slug:"campo-maior",display:"Campo Maior"},{id:1205,name:"Castelo de Vide",slug:"castelo-de-vide",display:"Castelo de Vide"},{id:1206,name:"Crato",slug:"crato",display:"Crato"},{id:1207,name:"Elvas",slug:"elvas",display:"Elvas"},{id:1208,name:"Fronteira",slug:"fronteira",display:"Fronteira"},{id:1209,name:"Gavião",slug:"gaviao",display:"Gavião"},{id:1210,name:"Marvão",slug:"marvao",display:"Marvão"},{id:1211,name:"Monforte",slug:"monforte",display:"Monforte"},{id:1212,name:"Nisa",slug:"nisa",display:"Nisa"},{id:1213,name:"Ponte de Sor",slug:"ponte-de-sor",display:"Ponte de Sor"},{id:1214,name:"Portalegre",slug:"portalegre",display:"Portalegre"},{id:1215,name:"Sousel",slug:"sousel",display:"Sousel"}]},{id:"PT111",name:"Alto Minho",slug:"alto-minho",display:"Alto Minho",concelhos:[{id:1601,name:"Arcos de Valdevez",slug:"arcos-de-valdevez",display:"Arcos de Valdevez"},{id:1602,name:"Caminha",slug:"caminha",display:"Caminha"},{id:1603,name:"Melgaço",slug:"melgaco",display:"Melgaço"},{id:1604,name:"Monção",slug:"moncao",display:"Monção"},{id:1605,name:"Paredes de Coura",slug:"paredes-de-coura",display:"Paredes de Coura"},{id:1606,name:"Ponte da Barca",slug:"ponte-da-barca",display:"Ponte da Barca"},{id:1607,name:"Ponte de Lima",slug:"ponte-de-lima",display:"Ponte de Lima"},{id:1608,name:"Valença",slug:"valenca",display:"Valença"},{id:1609,name:"Viana do Castelo",slug:"viana-do-castelo",display:"Viana do Castelo"},{id:1610,name:"Vila Nova de Cerveira",slug:"vila-nova-de-cerveira",display:"V.N. Cerveira"}]},{id:"PT11B",name:"Alto Tâmega",slug:"alto-tamega",display:"Alto Tâmega",concelhos:[{id:1702,name:"Boticas",slug:"boticas",display:"Boticas"},{id:1703,name:"Chaves",slug:"chaves",display:"Chaves"},{id:1706,name:"Montalegre",slug:"montalegre",display:"Montalegre"},{id:1709,name:"Ribeira de Pena",slug:"ribeira-de-pena",display:"Ribeira de Pena"},{id:1712,name:"Valpaços",slug:"valpacos",display:"Valpaços"},{id:1713,name:"Vila Pouca de Aguiar",slug:"vila-pouca-de-aguiar",display:"Vila Pouca de Aguiar"}]},{id:"PT300",name:"Região Autónoma da Madeira",slug:"regiao-autonoma-da-madeira",display:"R.A. Madeira",concelhos:[{id:3101,name:"Calheta",slug:"calheta",display:"Calheta"},{id:3102,name:"Câmara de Lobos",slug:"camara-de-lobos",display:"Câmara de Lobos"},{id:3103,name:"Funchal",slug:"funchal",display:"Funchal"},{id:3104,name:"Machico",slug:"machico",display:"Machico"},{id:3105,name:"Ponta do Sol",slug:"ponta-do-sol",display:"Ponta do Sol"},{id:3106,name:"Porto Moniz",slug:"porto-moniz",display:"Porto Moniz"},{id:3107,name:"Ribeira Brava",slug:"ribeira-brava",display:"Ribeira Brava"},{id:3108,name:"Santa Cruz",slug:"santa-cruz",display:"Santa Cruz"},{id:3109,name:"Santana",slug:"santana",display:"Santana"},{id:3110,name:"São Vicente",slug:"sao-vicente",display:"São Vicente"},{id:3201,name:"Porto Santo",slug:"porto-santo",display:"Porto Santo"}]},{id:"PT200",name:"Região Autónoma dos Açores",slug:"regiao-autonoma-dos-acores",display:"R.A. Açores",concelhos:[{id:4101,name:"Vila do Porto",slug:"vila-do-porto",display:"Vila do Porto"},{id:4201,name:"Lagoa",slug:"lagoa",display:"Lagoa"},{id:4202,name:"Nordeste",slug:"nordeste",display:"Nordeste"},{id:4203,name:"Ponta Delgada",slug:"ponta-delgada",display:"Ponta Delgada"},{id:4204,name:"Povoação",slug:"povoacao",display:"Povoação"},{id:4205,name:"Ribeira Grande",slug:"ribeira-grande",display:"Ribeira Grande"},{id:4206,name:"Vila Franca do Campo",slug:"vila-franca-do-campo",display:"Vila Franca do Campo"},{id:4301,name:"Angra do Heroísmo",slug:"angra-do-heroismo",display:"Angra do Heroísmo"},{id:4302,name:"Praia da Vitória",slug:"praia-da-vitoria",display:"Praia da Vitória"},{id:4401,name:"Santa Cruz da Graciosa",slug:"santa-cruz-da-graciosa",display:"Santa Cruz da Graciosa"},{id:4501,name:"Calheta de São Jorge",slug:"calheta-de-sao-jorge",display:"Calheta de São Jorge"},{id:4502,name:"Velas",slug:"velas",display:"Velas"},{id:4601,name:"Lajes do Pico",slug:"lajes-do-pico",display:"Lajes do Pico"},{id:4602,name:"Madalena",slug:"madalena",display:"Madalena"},{id:4603,name:"São Roque do Pico",slug:"sao-roque-do-pico",display:"São Roque do Pico"},{id:4701,name:"Horta",slug:"horta",display:"Horta"},{id:4801,name:"Lajes das Flores",slug:"lajes-das-flores",display:"Lajes das Flores"},{id:4802,name:"Santa Cruz das Flores",slug:"santa-cruz-das-flores",display:"Santa Cruz das Flores"},{id:4901,name:"Corvo",slug:"corvo",display:"Corvo"}]}]}},{}],"/root/repo/app/assets/scripts/utils/admin-areas.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNutBySlug=o,t.getConcelhoBySlug=s,t.onEnterNut=function(e,a){var t=e.params.nut;if(!o(t))return a("/404")},t.onEnterConcelho=function(e,a){var t=e.params.nut,n=e.params.concelho;if(!s(t,n))return a("/404")};var n=e("./admin-areas.json");function o(a){return n.results.find(function(e){return e.slug===a})||!1}function s(e,a){var t=o(e);return t&&t.concelhos.find(function(e){return e.slug===a})||!1}},{"./admin-areas.json":"/root/repo/app/assets/scripts/utils/admin-areas.json"}],"/root/repo/app/assets/scripts/utils/classlist-polyfill.js":[function(e,a,t){"use strict";"classList"in document.documentElement||!Object.defineProperty||"undefined"===typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var o=this;function e(n){return function(e){var a=o.className.split(/\s+/),t=a.indexOf(e);n(a,t,e),o.className=a.join(" ")}}var a={add:e(function(e,a,t){~a||e.push(t)}),remove:e(function(e,a){~a&&e.splice(a,1)}),toggle:e(function(e,a,t){~a?e.splice(a,1):e.push(t)}),contains:function(e){return!!~o.className.split(/\s+/).indexOf(e)},item:function(e){return o.className.split(/\s+/)[e]||null}};return Object.defineProperty(a,"length",{get:function(){return o.className.split(/\s+/).length}}),a}})},{}],"/root/repo/app/assets/scripts/utils/popover.js":[function(e,a,t){"use strict";var n=l(e("react")),o=l(e("react-dom/server")),s=l(e("lodash"));function l(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.exports=function(){var e=s.default.uniqueId("ds-popover-"),c=null,d=null,u=null,p=null,m=null,f=null,h=null;return c=document.createElement("div"),document.getElementById("app-container").appendChild(c),c.outerHTML=o.default.renderToStaticMarkup(n.default.createElement("div",{className:"popover",id:e})),c=document.getElementById(e),this.setContent=function(e,a){var t;return a&&(t=c.classList).add.apply(t,r(a.split(" "))),m=d,d=o.default.renderToStaticMarkup(e),this},this.show=function(e,a){if(f=u,h=p,u=e,p=a,null===d)return console.warn("Content must be set before showing the popover."),this;var t=!(f===u&&h===p);if(null!==f&&null!==h&&c.classList.add("chart-popover-animate"),d!==m&&(c.innerHTML=d,t=!0),t){var n=document.getElementById("app-container").offsetWidth,o=c.offsetWidth,s=c.offsetHeight,l=e-o/2,r=a-s-8,i=l+o-n;i>0&&(l-=16+i),l<0&&(l=16),c.style.left=l+"px",c.style.top=r+"px",c.style.display="",c.style.opacity=1,c.classList.add("chart-popover-animate-op")}return this},this.hide=function(){return c.style.left=null,c.style.top=null,c.style.display=null,c.style.opacity=null,c.classList.remove("chart-popover-animate","chart-popover-animate-op"),d=null,m=null,u=null,p=null,f=null,h=null,this},this}},{lodash:"lodash",react:"react","react-dom/server":!1}],"/root/repo/app/assets/scripts/utils/store.js":[function(e,a,t){"use strict";var n=e("redux"),o=i(e("redux-thunk")),s=i(e("redux-logger")),l=i(e("../config")),r=i(e("../reducers"));function i(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.default)({level:"info",collapsed:!0,predicate:function(e,a){return"production"!==l.default.environment}}),d=(0,n.createStore)(r.default,{},(0,n.applyMiddleware)(o.default,c));a.exports=d},{"../config":"/root/repo/app/assets/scripts/config.js","../reducers":"/root/repo/app/assets/scripts/reducers/index.js",redux:"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk"}],"/root/repo/app/assets/scripts/utils/tooltip.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o){return function(e){var a=document.getElementById(l);if(a||(a=document.createElement("div"),a.id=l,document.body.appendChild(a)),0===e.opacity)return a.style.opacity=0,void(a.style.top=0);(0,s.render)(o(e.dataPoints[0].index),a);var t=a.getBoundingClientRect(),n=this._chart.canvas.getBoundingClientRect();a.style.opacity=1,a.style.left=n.left+e.caretX+"px",a.style.top=window.pageYOffset-t.height-10+n.top+e.caretY+"px",a.style.padding=e.yPadding+"px "+e.xPadding+"px"}};var s=e("react-dom"),l="chartjs-tooltip"},{"react-dom":"react-dom"}],"/root/repo/app/assets/scripts/utils/utils.js":[function(e,a,t){"use strict";function o(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return 0===a&&(a=e<1?2:0),Math.round(e*Math.pow(10,a))/Math.pow(10,a)}function n(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,a),n.join(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.percent=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=e/a*100;return o(n,t)},t.round=o,t.format=n,t.formatPT=function(e){return n(e," ",",")}},{}],"/root/repo/app/assets/scripts/views/app.js":[function(e,a,t){"use strict";var n=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),o=e("react-redux"),s=e("react-router"),l=c(e("lodash")),r=c(e("classnames")),i=c(e("scroll-into-view"));function c(e){return e&&e.__esModule?e:{default:e}}var d=n.default.createClass({displayName:"App",propTypes:{routes:n.PropTypes.array,params:n.PropTypes.object,location:n.PropTypes.object,children:n.PropTypes.object,national:n.PropTypes.object,nut:n.PropTypes.object},getInitialState:function(){var e=l.default.get(l.default.last(this.props.routes),"pageClass","");return{showHeader:"page--homepage"!==e}},ignoreNextSectionChange:!1,isAutoScrolling:!1,goToAnchor:function(e){var a=this;if(e){var t=document.querySelector(e);t&&(this.isAutoScrolling=!0,(0,i.default)(t,{time:500},function(){a.isAutoScrolling=!1}))}},onSroll:function(e){var a=document.getElementById("intro");if(a){var t=a.getBoundingClientRect().height;window.pageYOffset>=t-80?!this.state.showHeader&&this.setState({showHeader:!0}):this.state.showHeader&&this.setState({showHeader:!1})}},onSectionChange:function(e,a){if(!this.isAutoScrolling){this.ignoreNextSectionChange=!0;var t="nut"===a?"/nuts/".concat(this.props.params.nut):"/";s.hashHistory.push("".concat(t,"#").concat(e))}},componentDidMount:function(){this.goToAnchor(this.props.location.hash),this.onSroll=l.default.throttle(this.onSroll,50),document.addEventListener("scroll",this.onSroll),this.onSroll()},componentWillReceiveProps:function(e){this.setState({showHeader:"/"!==e.location.pathname}),this.props.location.hash===e.location.hash&&this.props.location.pathname===e.location.pathname||(this.ignoreNextSectionChange||this.goToAnchor(e.location.hash),this.ignoreNextSectionChange=!1)},componentDidUpdate:function(e){(!e.national.fetched&&this.props.national.fetched||!e.nut.fetched&&this.props.nut.fetched||e.location.pathname!==this.props.location.pathname)&&this.goToAnchor(this.props.location.hash)},render:function(){var e=l.default.get(l.default.last(this.props.routes),"pageClass","");return n.default.createElement("div",{className:(0,r.default)("page",e)},n.default.createElement("header",{id:"page-header",className:(0,r.default)("header-fixed",{"header-active":this.state.showHeader})},n.default.createElement("nav",{className:"page-nav container-wrapper"},n.default.createElement("h1",{id:"page-logo"},n.default.createElement(s.Link,{to:"/"},"Autoridade da Mobilidade e dos Transportes")),n.default.createElement("ul",{className:"primary-nav"},n.default.createElement("li",null,n.default.createElement(s.Link,{to:"/sobre"},"Sobre")),n.default.createElement("li",null,n.default.createElement(s.Link,{to:"/dados"},"Dados")),n.default.createElement("li",null,n.default.createElement(s.Link,{to:"/glossario"},"Glossário"))))),n.default.createElement("main",{className:"page__body",role:"main"},n.default.cloneElement(this.props.children,{onSectionChange:this.onSectionChange})))}});a.exports=(0,o.connect)(function(e){return{national:e.national,nut:e.nut}},function(e){return{}})(d)},{classnames:"classnames",lodash:"lodash",react:"react","react-redux":"react-redux","react-router":"react-router","scroll-into-view":"scroll-into-view"}],"/root/repo/app/assets/scripts/views/concelhos.js":[function(e,a,t){"use strict";var P=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),T=e("react-router"),n=e("react-redux"),M=l(e("lodash")),j=l(e("classnames")),r=e("react-chartjs-2"),o=e("../actions"),i=l(e("../utils/tooltip")),x=e("../utils/utils"),w=e("../config"),s=l(e("../components/map")),A=l(e("../components/loading-screen"));function l(e){return e&&e.__esModule?e:{default:e}}var c=P.default.createClass({displayName:"Concelho",propTypes:{location:P.PropTypes.object,params:P.PropTypes.object,concelho:P.PropTypes.object,nut:P.PropTypes.object,national:P.PropTypes.object,mapData:P.PropTypes.object,_fetchConcelho:P.PropTypes.func,_fetchMapData:P.PropTypes.func},contingenteMatrix:{concelho:"Concelho","infra concelho":"Infra Concelho"},chartsRef:[],onWindowResize:function(){var a=this;this.chartsRef.map(function(e){a.refs[e].chart_instance.resize()})},addChartRef:function(e){return-1===this.chartsRef.indexOf(e)&&this.chartsRef.push(e),e},onMapClick:function(a){var e=this.props.nut.data.concelhos.find(function(e){return e.id===a.id}).slug;T.hashHistory.push("/nuts/".concat(this.props.params.nut,"/concelhos/").concat(e))},popoverContent:function(a){var e=this.props.nut.data.concelhos.find(function(e){return e.id===a.id}).name;return P.default.createElement("div",null,P.default.createElement("p",{className:"map-tooltip"},e),P.default.createElement("span",{className:"triangle"}))},overlayInfoContent:function(){var e=this.props.location.hash||"";return P.default.createElement("div",{className:"map-aa-info"},P.default.createElement("ul",{className:"map-aa-list inline-list"},P.default.createElement("li",null,P.default.createElement("a",{className:"map-back-link",href:"#/nuts/".concat(this.props.nut.data.slug).concat(e),title:"Ir para ".concat(this.props.nut.data.name)},P.default.createElement("span",{className:"i-arrow-left2"}),this.props.concelho.data.name))))},componentDidMount:function(){this.onWindowResize=M.default.debounce(this.onWindowResize,200),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.props._fetchConcelho(this.props.params.nut,this.props.params.concelho),this.props.mapData.fetched||this.props._fetchMapData()},componentWillUnmount:function(){window.removeEventListener("resize",this.onWindowResize)},componentWillReceiveProps:function(e){if(this.props.params.concelho!==e.params.concelho||this.props.params.nut!==e.params.nut)return this.props._fetchConcelho(e.params.nut,e.params.concelho)},renderLicencas1000Chart:function(t,e){var n=t.labels.length-1,a=(0,i.default)(function(a){var e=t.labels[a];return P.default.createElement("ul",null,P.default.createElement("li",null,P.default.createElement("span",{className:"tooltip-title"},e,":")),t.datasets.map(function(e){return P.default.createElement("li",{key:e.label},P.default.createElement("span",{style:{backgroundColor:e.color},className:"tooltip-marker"}),P.default.createElement("span",{className:"tooltip-label"},e.label,":")," ",P.default.createElement("span",{className:"tooltip-number"},(0,x.round)(e.data[a])))}),P.default.createElement("span",{className:"triangle"}))}),o=t.labels.map(function(e,a){return 0===a||a===n?e:""}),s={labels:o,datasets:t.datasets.map(function(e){return{data:e.data,backgroundColor:e.backgroundColor,borderColor:e.color,pointBorderWidth:0,pointBackgroundColor:e.color,pointRadius:2}})},l={legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1},ticks:{maxRotation:0}}],yAxes:[{gridLines:{display:!1},ticks:{min:0}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:a}};return P.default.createElement(r.Line,{data:s,options:l,height:240,ref:this.addChartRef("chart-".concat(e))})},renderTimelineChart:function(){var t=this.props.concelho.data.data.licencasTimeline,n=t.length-1,e=(0,i.default)(function(e){var a=t[e];return P.default.createElement("ul",null,P.default.createElement("li",null,P.default.createElement("span",{className:"tooltip-title"},"Licenças e Contingentes:")),P.default.createElement("li",null,P.default.createElement("span",{style:{backgroundColor:"#1f8d8e"},className:"tooltip-marker"}),P.default.createElement("span",{className:"tooltip-label"},"Total Licenças:"),P.default.createElement("span",{className:"tooltip-number"},(0,x.formatPT)(a["lic-geral"]+a["lic-mob-reduzida"]))),P.default.createElement("li",null,P.default.createElement("span",{className:"tooltip-label"},"Total Contingentes:")," ",P.default.createElement("span",{className:"tooltip-number"},(0,x.formatPT)(a["max-lic-geral"]+a["max-lic-mob-reduzida"]))),P.default.createElement("span",{className:"triangle"}))}),a=t.map(function(e,a){return 0===a||a===n?e.year:""}),o={labels:a,datasets:[{data:t.map(function(e){return e["lic-geral"]+e["lic-mob-reduzida"]}),backgroundColor:"#f5f5f5",borderColor:"#1f8d8e",pointBorderWidth:0,pointBackgroundColor:"#1f8d8e",pointRadius:3}]},s={legend:{display:!1},layout:{padding:{top:10}},scales:{xAxes:[{gridLines:{display:!1},ticks:{maxRotation:0}}],yAxes:[{gridLines:{display:!1},ticks:{min:0}}]},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:e}};return P.default.createElement(r.Line,{data:o,options:s,height:240,ref:this.addChartRef("chart-timeline")})},renderLic1000HabChart:function(){var e={labels:this.props.concelho.data.data.licencasTimeline.map(function(e){return e.year}),datasets:M.default.sortBy([{data:this.props.national.data.licencasTimeline.map(function(e){return e.lic1000}),label:"Portugal",color:"#1f8d8e",backgroundColor:"rgba(245, 245, 245, 0.2)"},{data:this.props.nut.data.data.licencasTimeline.map(function(e){return e.lic1000}),label:this.props.nut.data.name,color:"#00ced1",backgroundColor:"rgba(245, 245, 245, 0.2)"},{data:this.props.concelho.data.data.licencasTimeline.map(function(e){return e.lic1000}),label:this.props.concelho.data.name,color:"#256465",backgroundColor:"rgba(245, 245, 245, 0.2)"}],function(e){return e.data[e.data.length-1]})};return this.renderLicencas1000Chart(e,"1000hab")},renderLic1000DormidasChart:function(){var a=[];this.props.concelho.data.data.dormidas.forEach(function(e){null!==e.value&&a.push(e.year)});var e={labels:a,datasets:M.default.sortBy([{data:this.props.national.data.dormidas.filter(function(e){return M.default.includes(a,e.year)}).map(function(e){return e.lic1000}),label:"Portugal",color:"#1f8d8e",backgroundColor:"rgba(245, 245, 245, 0.2)"},{data:this.props.concelho.data.data.dormidas.filter(function(e){return M.default.includes(a,e.year)}).map(function(e){return e.lic1000}),label:this.props.concelho.data.name,color:"#256465",backgroundColor:"rgba(245, 245, 245, 0.2)"}],function(e){return e.data[0]})};return this.renderLicencas1000Chart(e,"1000dor")},renderMap:function(){return this.props.mapData.fetched?P.default.createElement(s.default,{className:"map-svg",geometries:this.props.mapData.data,nut:this.props.nut.data.id,concelho:this.props.concelho.data.id,onClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:this.overlayInfoContent}):null},renderFileLink:function(){if(!this.props.concelho.data.files)return null;var e=this.props.concelho.data.files;return P.default.createElement("div",null,e.length?P.default.createElement("p",{className:"aa-doc-download"},P.default.createElement("a",{href:e[0],title:"Descarregar documento"},"Descarregue o documento relativo a ",this.props.concelho.data.name,".")):null)},render:function(){var e=this.props.concelho,a=e.fetched,t=e.fetching,n=e.error,o=e.data,s=this.props.nut.data;if(!a&&!t)return null;if(t)return P.default.createElement(A.default,null);if(n)return P.default.createElement("div",null,"Error: ",n);var l=this.props.location.hash||"",r=o.data,i=r.licencasEndY,c=r.licencasStartY,d=r.maxEndY,u=r.dormidas,p=r.licencasTimeline,m=r.estacionamento,f=r.contingente;u=M.default.last(u).lic1000,u=u?(0,x.round)(u,1):"N/A";var h=M.default.last(p).lic1000;h=(0,x.round)(h,1);var g=M.default.last(o.data["lic-mob-reduzida"]).value,v=i-c,E=v/c*100,y=this.props.national.data.licencasEndY,b=(0,x.percent)(i,y,0),C=M.default.last(o.data["pop-residente"]).value,N=(0,x.percent)(C,this.props.national.data.populacao,0);return P.default.createElement("div",{id:"page-content"},P.default.createElement("div",{id:"concelho",className:"content-wrapper vertical-center"},P.default.createElement("div",{className:"map-wrapper"},this.renderMap()),P.default.createElement("div",{className:"section-wrapper"},P.default.createElement("section",{className:"section-container"},P.default.createElement("header",{className:"section-header"},P.default.createElement("h3",{className:"section-category"},P.default.createElement(T.Link,{to:"/".concat(l),title:"Ver Portugal"},"Portugal")," › ",P.default.createElement(T.Link,{to:"/nuts/".concat(s.slug).concat(l),title:"Ver ".concat(s.name)},s.name)),P.default.createElement("h1",null,o.name)),P.default.createElement("div",{className:"section-content"},P.default.createElement("div",{className:"section-stats"},P.default.createElement("ul",null,P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},(0,x.formatPT)(i)),P.default.createElement("span",{className:"stat-description"},"Total de táxis licenciados ",P.default.createElement("span",{className:"block"},"em dezembro de ",w.endYear,"."))),P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},(0,x.formatPT)(d)),P.default.createElement("span",{className:"stat-description"},"Total dos contingentes ",P.default.createElement("span",{className:"block"},"em dezembro de ",w.endYear,"."))),P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},(0,x.formatPT)(d-i)),P.default.createElement("span",{className:"stat-description"},"Total de vagas existentes ",P.default.createElement("span",{className:"block"},"em dezembro de ",w.endYear,"."))),P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},g),P.default.createElement("span",{className:"stat-description"},"Licenças existentes no ",P.default.createElement("span",{className:"block"},"CMR em dezembro de ",w.endYear,"."))),P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},0!==v?P.default.createElement("span",null,v<0?"-":"+"):null,(0,x.formatPT)(Math.abs(v))),P.default.createElement("span",{className:"stat-description"},"Variação no número de ",P.default.createElement("span",{className:"block"}," licenças entre ",w.startYear," e ",w.endYear,"."))),P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},0!==E?P.default.createElement("span",null,E<0?"-":"+"):null,(0,x.formatPT)((0,x.round)(Math.abs(E),0)),"%"),P.default.createElement("span",{className:"stat-description"},"Variação percentual do número de licenças",P.default.createElement("span",{className:"block"}," entre ",w.startYear," e ",w.endYear,"."))),P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},h),P.default.createElement("span",{className:"stat-description"},"Táxis licenciados por 1000 residentes.")),P.default.createElement("li",null,P.default.createElement("span",{className:"stat-number"},u),P.default.createElement("span",{className:"stat-description"},"Táxis licenciados por 1000 dormidas.")))),P.default.createElement("ul",{className:"table-distribution"},P.default.createElement("li",{className:"table-header"},P.default.createElement("span",{className:"table-cell table-scope"},"Âmbito Geográfico",P.default.createElement("span",{className:"block"},"do Contingente")),P.default.createElement("span",{className:"table-cell table-parking"},"Regime(s) de ",P.default.createElement("span",{className:"block"},"Estacionamento")),P.default.createElement("span",{className:"table-cell table-national"},"% do Total de ",P.default.createElement("span",{className:"block"},"Licenças em Portugal")),P.default.createElement("span",{className:"table-cell table-residents"},"% do Total de Pop. ",P.default.createElement("span",{className:"block"},"Residente em Portugal")),P.default.createElement("span",{className:"table-cell table-pop"},"População ",P.default.createElement("span",{className:"block"},"Residente"))),P.default.createElement("li",null,P.default.createElement("span",{className:"table-cell table-scope"},f?this.contingenteMatrix[f]:"Não Definido"),P.default.createElement("div",{className:"table-cell table-parking"},P.default.createElement("ul",{className:"inline-list"},P.default.createElement("li",{className:(0,j.default)("est est-livre",{active:-1!==m.indexOf("livre")})},"L"),P.default.createElement("li",{className:(0,j.default)("est est-condicionado",{active:-1!==m.indexOf("condicionado")})},"C"),P.default.createElement("li",{className:(0,j.default)("est est-fixo",{active:-1!==m.indexOf("fixo")})},"F"),P.default.createElement("li",{className:(0,j.default)("est est-escala",{active:-1!==m.indexOf("escala")})},"E"))),P.default.createElement("span",{className:"table-cell table-national"},(0,x.formatPT)(b),"%"),P.default.createElement("span",{className:"table-cell table-residents"},(0,x.formatPT)(N),"%"),P.default.createElement("span",{className:"table-cell table-pop"},(0,x.formatPT)(C)))),P.default.createElement("div",{className:"graph-container"},P.default.createElement("div",{className:"graph"},P.default.createElement("h6",{className:"legend-title"},"Evolução dos táxis licenciados ",P.default.createElement("span",{className:"block"},"de ",w.startYear," a ",w.endYear)),this.renderTimelineChart()),P.default.createElement("div",{className:"graph"},P.default.createElement("h6",{className:"legend-title"},"Evolução dos táxis licenciados ",P.default.createElement("span",{className:"block"},"por 1000 residentes")),this.renderLic1000HabChart()),P.default.createElement("div",{className:"graph"},P.default.createElement("h6",{className:"legend-title"},"Evolução dos táxis licenciados ",P.default.createElement("span",{className:"block"},"por 1000 dormidas")),this.renderLic1000DormidasChart())),this.renderFileLink()),P.default.createElement("footer",{className:"section-footer"},P.default.createElement("p",null,P.default.createElement("strong",null,"Nota I:")," Os valores dos indicadores devem ser analisados caso a caso e comparados com particular precaução. A consideração de outros fatores com influência na procura poderá melhor enquadrar as diferenças existentes."),P.default.createElement("p",null,P.default.createElement("strong",null,"Nota II:")," Dormidas nos estabelecimentos hoteleiros (estabelecimento cuja atividade principal consiste na prestação de serviços de alojamento e de outros serviços acessórios ou de apoio, mediante pagamento)."))))))}});a.exports=(0,n.connect)(function(e){return{concelho:e.concelho,nut:e.nut,national:e.national,mapData:e.mapData}},function(e){return{_fetchConcelho:function(){return e(o.fetchConcelho.apply(void 0,arguments))},_fetchMapData:function(){return e(o.fetchMapData.apply(void 0,arguments))}}})(c)},{"../actions":"/root/repo/app/assets/scripts/actions/index.js","../components/loading-screen":"/root/repo/app/assets/scripts/components/loading-screen.js","../components/map":"/root/repo/app/assets/scripts/components/map.js","../config":"/root/repo/app/assets/scripts/config.js","../utils/tooltip":"/root/repo/app/assets/scripts/utils/tooltip.js","../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js",classnames:"classnames",lodash:"lodash",react:"react","react-chartjs-2":"react-chartjs-2","react-redux":"react-redux","react-router":"react-router"}],"/root/repo/app/assets/scripts/views/dados.js":[function(e,a,t){"use strict";var n,o=(n=e("react"),n&&n.__esModule?n:{default:n}),s=e("../config");var l=o.default.createClass({displayName:"Dados",render:function(){return o.default.createElement("div",{id:"dados",className:"container-wrapper"},o.default.createElement("section",{id:"dados",className:"content-wrapper"},o.default.createElement("h1",null,"Sobre os dados"),o.default.createElement("div",null,o.default.createElement("p",{className:"lead"}," Este site contém dados sobre o número de ",o.default.createElement("a",{href:"".concat(s.rawGitApi,"@master/data/taxis.csv"),title:"Descarregar dados"},"táxis licenciados e os contingentes estabelecidos")," (número máximo de táxis a licenciar) pelos municípios. São também utilizados dados relativos ao ",o.default.createElement("a",{href:"".concat(s.rawGitApi,"@master/data/area-metadata.csv"),title:"Descarregar dados"},"âmbito geográfico dos contingentes e quanto às disposições relativas ao estacionamento dos táxis"),". Os dados referem-se ao período entre ",s.startYear," e ",s.endYear," e foram recolhidos, pela AMT, junto dos 308 municípios portugueses. De forma a complementar os dados recolhidos e concretizar uma análise mais detalhada, foram também utilizados dados sobre a ",o.default.createElement("a",{href:"".concat(s.rawGitApi,"@master/data/population.csv"),title:"Descarregar dados"},"população residente")," e sobre as ",o.default.createElement("a",{href:"".concat(s.rawGitApi,"@master/data/dormidas.csv"),title:"Descarregar dados"},"dormidas")," em estabelecimentos hoteleiros, disponibilizados pelo ",o.default.createElement("a",{href:"http://www.ine.pt",title:"Ir para INE",target:"_blank",rel:"noopener noreferrer"},"Instituto Nacional de Estatística")," na sua base de dados pública."),o.default.createElement("p",null,"A AMT agradece a colaboração dos municípios na disponibilização da informação. Agradecem-se igualmente os contributos do Instituto da Mobilidade e dos Transportes, da Direção Regional da Economia e Transportes da Região Autónoma da Madeira e da Direção Regional dos Transportes da Região Autónoma dos Açores.")),o.default.createElement("div",null,o.default.createElement("h3",null,"Tratamento de Dados"),o.default.createElement("p",null,"Existem dados relativos a ",s.endYear," para todos os concelhos. Para os concelhos em que não existia informação disponível para todo o período compreendido entre ",s.startYear," e ",s.endYear,", os valores assumidos na análise resultam de imputação do primeiro valor disponível aos anos anteriores. Neste caso, a metodologia descrita é equivalente à utilização das taxas de variação anual apuradas para os concelhos com informação, na imputação dos valores dos concelhos sem dados para todos os anos."),o.default.createElement("h3",null,"Ferramentas Utilizadas"),o.default.createElement("p",null,"Os dados originais, publicados em quatro ficheiros, foram processados por um conjunto de scripts desenvolvidos à medida em Node.js. Os dados geográficos para o mapa foram processados com Ogr2ogr. O Github foi utilizado para controlo de versões e disponibilização do código em formato Open Source. Finalmente, o Travis CI é usado para um processo de testes e publicação automática do site."))))}});a.exports=l},{"../config":"/root/repo/app/assets/scripts/config.js",react:"react"}],"/root/repo/app/assets/scripts/views/glossario.js":[function(e,a,t){"use strict";var n,o=(n=e("react"),n&&n.__esModule?n:{default:n});var s=o.default.createClass({displayName:"Glossario",render:function(){return o.default.createElement("div",{id:"glossario",className:"container-wrapper"},o.default.createElement("section",{id:"glossario",className:"content-wrapper"},o.default.createElement("h1",null,"Glossário dos Principais Conceitos"),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement("h4",null,"Serviços de transporte em táxi"),o.default.createElement("p",null,"Consistem no transporte de passageiros utilizando um veículo automóvel ligeiro de passageiros conduzido por um motorista certificado. Em regra, este veículo está equipado com taxímetro e possui distintivos próprios. O transporte ocorre ao serviço de uma entidade, de acordo com o itinerário escolhido por esta e mediante o pagamento do preço calculado pelo taxímetro, aplicando a convenção estabelecida entre a extinta Direção-Geral das Atividades Económicas e as associações representantes dos detentores de licenças de táxi.")),o.default.createElement("li",null,o.default.createElement("h4",null,"Licenças Municipais"),o.default.createElement("p",null,"A prestação de serviços de transporte em táxi implica que o prestador detenha um alvará emitido pelo Instituto da Mobilidade e dos Transportes (IMT) e uma licença municipal para cada veículo que utiliza. As licenças podem ser obtidas através de concurso público lançado pelos municípios ou pela sua aquisição no mercado secundário (a quem já as detenha).")),o.default.createElement("li",null,o.default.createElement("h4",null,"Contingentes Municipais"),o.default.createElement("p",null,"A atribuição de licenças encontra-se limitada pelos contingentes de âmbito municipal, que correspondem ao número máximo de licenças que pode ser concedido num concelho. Este contingente é fixado pelos municípios, com uma periodicidade não inferior a 2 anos.")),o.default.createElement("li",null,o.default.createElement("h4",null,"Vagas no Contingente"),o.default.createElement("p",null,"Correspondem à diferença entre o número de táxis licenciados e o contingente definido pelo município. Indicam assim o número de veículos que, potencialmente, poderá ainda ser licenciado, atento o contingente definido. Podem existir diferentes motivos para a existência de vagas, nomeadamente a não abertura de concursos municipais para a atribuição das licenças, a ausência de interessados nas licenças mesmo que tenham sido abertos concursos ou a revogação de licenças já atribuídas.")),o.default.createElement("li",null,o.default.createElement("h4",null,"Contingentes especiais para pessoas com mobilidade reduzida"),o.default.createElement("p",null,"Em complemento aos contingentes gerais, a legislação prevê a possibilidade de criação de um contingentes especiais de táxis para pessoas com mobilidade reduzida, sempre que a necessidade deste tipo de veículos não possa ser assegurada pela adaptação dos táxis existentes no concelho.")),o.default.createElement("li",null,o.default.createElement("h4",null,"Âmbito geográfico dos contingentes"),o.default.createElement("p",null,"Os contingentes municipais podem ser estabelecidos por freguesia, para um conjunto de freguesias ou para as freguesias que constituem a sede do concelho. A AMT analisa se o âmbito geográfico geográfico definido pelos municípios corresponde ao concelho ou se tem dimensão infra concelhia")),o.default.createElement("li",null,o.default.createElement("h4",null,"Regimes de Estacionamento"),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement("strong",null,"Fixo:")," existe obrigação de estacionar nos locais determinados na licença;"),o.default.createElement("li",null,o.default.createElement("strong",null,"Condicionado:")," podem estacionar em qualquer dos locais definidos, até ao limite dos lugares fixados;"),o.default.createElement("li",null,o.default.createElement("strong",null,"Escala:")," existe obrigação de cumprir um regime sequencial de prestação de serviço."),o.default.createElement("li",null,o.default.createElement("strong",null,"Livre:")," podem circular livremente à disposição do público, não existindo locais obrigatórios para estacionamento;"))))))}});a.exports=s},{react:"react"}],"/root/repo/app/assets/scripts/views/home.js":[function(e,a,t){"use strict";var i=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),n=e("react-redux"),c=e("react-router"),d=l(e("classnames")),o=l(e("lodash")),s=e("../actions"),u=e("../config"),p=l(e("../components/sections/section-intro")),m=l(e("../components/sections/section-licencas")),f=l(e("../components/sections/section-indicadores")),h=l(e("../components/sections/section-mobilidade")),g=l(e("../components/sections/section-estacionamento")),v=l(e("../components/sections/section-ambito")),E=l(e("../components/sections/section-evolucao")),y=l(e("../components/sections/section-conclusoes")),b=l(e("../components/loading-screen"));function l(e){return e&&e.__esModule?e:{default:e}}var r=i.default.createClass({displayName:"Home",propTypes:{location:i.PropTypes.object,national:i.PropTypes.object,mapData:i.PropTypes.object,onSectionChange:i.PropTypes.func,_fetchNational:i.PropTypes.func,_fetchMapData:i.PropTypes.func},sections:[{id:"intro",active:!1},{id:"licencas",active:!1},{id:"distribuicao",active:!1},{id:"evolucao",active:!1},{id:"indicadores",active:!1},{id:"mobilidade",active:!1},{id:"estacionamento",active:!1},{id:"conclusoes",active:!1}],onMapClick:function(e,a){var t=this.props.national.data.nuts.find(function(e){return e.id===a.id}).slug;c.hashHistory.push("/nuts/".concat(t,"#").concat(e))},popoverContent:function(a){var e=this.props.national.data.nuts.find(function(e){return e.id===a.id}).name;return i.default.createElement("div",null,i.default.createElement("p",{className:"map-tooltip"},e),i.default.createElement("span",{className:"triangle"}))},onSroll:function(e){this.sections.forEach(function(e){var a=document.getElementById(e.id);if(a){var t=a.getBoundingClientRect().top;e.active=t<=10}});var a=o.default.findLast(this.sections,["active",!0]);a&&this.props.location.hash!=="#".concat(a.id)&&this.props.onSectionChange(a.id,"national")},componentDidMount:function(){this.onSroll=o.default.throttle(this.onSroll,50),document.addEventListener("scroll",this.onSroll),this.props.national.fetched||this.props._fetchNational(),this.props.mapData.fetched||this.props._fetchMapData()},componentWillUnmount:function(){document.removeEventListener("scroll",this.onSroll)},render:function(){var e=this.props.national,a=e.fetched,t=e.fetching,n=e.error,o=e.data,s=this.props.location.hash.replace("#","");if(!a&&!t)return null;if(t)return i.default.createElement(b.default,null);if(n)return i.default.createElement("div",null,"Error: ",n);var l={labels:this.props.national.data.licencasTimeline.map(function(e){return e.year}),datasets:[{data:this.props.national.data.licencasTimeline.map(function(e){return e["lic1000-por"]}),label:"AM de Porto",color:"#256465",backgroundColor:"#f5f5f5"},{data:this.props.national.data.licencasTimeline.map(function(e){return e.lic1000}),label:"Portugal",color:"#1f8d8e",backgroundColor:"#f5f5f5"},{data:this.props.national.data.licencasTimeline.map(function(e){return e["lic1000-lx"]}),label:"AM de Lisboa",color:"#00ced1",backgroundColor:"#f5f5f5"}]},r={labels:this.props.national.data.dormidas.map(function(e){return e.year}),datasets:[{data:this.props.national.data.dormidas.map(function(e){return e.lic1000}),label:"Portugal",color:"#1f8d8e",backgroundColor:"#f5f5f5"}]};return i.default.createElement("div",null,i.default.createElement(p.default,null),i.default.createElement("div",{id:"page-content",className:"container-wrapper"},i.default.createElement(m.default,{adminLevel:"national",adminName:"Portugal",adminList:o.nuts,licencasEndY:o.licencasEndY,maxEndY:o.maxEndY,licencasHab:o.licencasHab,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:function(){}}),i.default.createElement(v.default,{adminLevel:"national",adminName:"Portugal",adminList:o.nuts,licencasEndY:o.licencasEndY,populacaoNational:o.populacao,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:function(){}}),i.default.createElement(E.default,{adminLevel:"national",adminName:"Portugal",licencasEndY:o.licencasEndY,licencasStartY:o.licencasStartY,municipios:o.concelhos,totalMunicipios:o.totalMunicipios,licencasTimeline:o.licencasTimeline,mapGeometries:this.props.mapData,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:function(){}}),i.default.createElement(f.default,{adminLevel:"national",adminName:"Portugal",licencasHab:o.licencasHab,dormidas:o.dormidas,chartLic1000Hab:l,chartLic1000Dor:r,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:function(){}}),i.default.createElement(h.default,{adminLevel:"national",adminName:"Portugal",totalMunicipiosMobReduzida:o.totalMunicipiosMobReduzida,totalMunicipios:o.totalMunicipios,licencasEndY:o.licencasEndY,licencasStartY:o.licencasStartY,licencasMobReduzidaEndY:o.licencasMobReduzidaEndY,licencasMobReduzidaStartY:o.licencasMobReduzidaStartY,licencasTimeline:o.licencasTimeline,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:function(){}}),i.default.createElement(g.default,{adminLevel:"national",adminName:"Portugal",municipios:o.concelhos,totalMunicipios:o.totalMunicipios,mapGeometries:this.props.mapData,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:function(){}})),i.default.createElement(y.default,{licencasTimeline:o.licencasTimeline}),i.default.createElement("ul",{className:"section-nav"},i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"intro"===s})},i.default.createElement(c.Link,{to:"/#intro"},i.default.createElement("span",null,"Introdução"))),i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"licencas"===s})},i.default.createElement(c.Link,{to:"/#licencas"},i.default.createElement("span",null,"Licenças e Contingentes"))),i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"distribuicao"===s})},i.default.createElement(c.Link,{to:"/#distribuicao"},i.default.createElement("span",null,"Detalhe Geográfico"))),i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"evolucao"===s})},i.default.createElement(c.Link,{to:"/#evolucao"},i.default.createElement("span",null,"Evolução ",u.startYear,"-",u.endYear))),i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"indicadores"===s})},i.default.createElement(c.Link,{to:"/#indicadores"},i.default.createElement("span",null,"Indicadores"))),i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"mobilidade"===s})},i.default.createElement(c.Link,{to:"/#mobilidade"},i.default.createElement("span",null,"Mobilidade Reduzida"))),i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"estacionamento"===s})},i.default.createElement(c.Link,{to:"/#estacionamento"},i.default.createElement("span",null,"Regime Estacionamento"))),i.default.createElement("li",{className:(0,d.default)("nav-item",{active:"conclusoes"===s})},i.default.createElement(c.Link,{to:"/#conclusoes"},i.default.createElement("span",null,"Conclusões")))))}});a.exports=(0,n.connect)(function(e){return{national:e.national,mapData:e.mapData}},function(e){return{_fetchNational:function(){return e(s.fetchNational.apply(void 0,arguments))},_fetchMapData:function(){return e(s.fetchMapData.apply(void 0,arguments))}}})(r)},{"../actions":"/root/repo/app/assets/scripts/actions/index.js","../components/loading-screen":"/root/repo/app/assets/scripts/components/loading-screen.js","../components/sections/section-ambito":"/root/repo/app/assets/scripts/components/sections/section-ambito.js","../components/sections/section-conclusoes":"/root/repo/app/assets/scripts/components/sections/section-conclusoes.js","../components/sections/section-estacionamento":"/root/repo/app/assets/scripts/components/sections/section-estacionamento.js","../components/sections/section-evolucao":"/root/repo/app/assets/scripts/components/sections/section-evolucao.js","../components/sections/section-indicadores":"/root/repo/app/assets/scripts/components/sections/section-indicadores.js","../components/sections/section-intro":"/root/repo/app/assets/scripts/components/sections/section-intro.js","../components/sections/section-licencas":"/root/repo/app/assets/scripts/components/sections/section-licencas.js","../components/sections/section-mobilidade":"/root/repo/app/assets/scripts/components/sections/section-mobilidade.js","../config":"/root/repo/app/assets/scripts/config.js",classnames:"classnames",lodash:"lodash",react:"react","react-redux":"react-redux","react-router":"react-router"}],"/root/repo/app/assets/scripts/views/nuts.js":[function(e,a,t){"use strict";var r=function(e){{if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(a,t,n):a[t]=e[t]}return a.default=e,a}}(e("react")),n=e("react-redux"),i=e("react-router"),c=s(e("classnames")),d=s(e("lodash")),o=e("../actions"),u=e("../config"),p=s(e("../components/sections/section-licencas")),m=s(e("../components/sections/section-indicadores")),f=s(e("../components/sections/section-mobilidade")),h=s(e("../components/sections/section-estacionamento")),g=s(e("../components/sections/section-ambito-nut")),v=s(e("../components/sections/section-evolucao")),E=s(e("../components/loading-screen"));function s(e){return e&&e.__esModule?e:{default:e}}var l=r.default.createClass({displayName:"Nuts",propTypes:{location:r.PropTypes.object,params:r.PropTypes.object,mapData:r.PropTypes.object,nut:r.PropTypes.object,national:r.PropTypes.object,onSectionChange:r.PropTypes.func,_fetchNut:r.PropTypes.func,_fetchMapData:r.PropTypes.func},sections:[{id:"licencas",active:!1},{id:"distribuicao",active:!1},{id:"evolucao",active:!1},{id:"indicadores",active:!1},{id:"mobilidade",active:!1},{id:"estacionamento",active:!1}],onMapClick:function(e,a){if("nut3"===a.type){var t=this.props.national.data.nuts.find(function(e){return e.id===a.id}).slug;i.hashHistory.push("/nuts/".concat(t,"#").concat(e))}else{var n=this.props.nut.data.concelhos.find(function(e){return e.id===a.id}).slug;i.hashHistory.push("/nuts/".concat(this.props.params.nut,"/concelhos/").concat(n,"#").concat(e))}},popoverContent:function(a){var e;return e="nut3"===a.type?this.props.national.data.nuts.find(function(e){return e.id===a.id}).name:this.props.nut.data.concelhos.find(function(e){return e.id===a.id}).name,r.default.createElement("div",null,r.default.createElement("p",{className:"map-tooltip"},e),r.default.createElement("span",{className:"triangle"}))},onSroll:function(e){this.sections.forEach(function(e){var a=document.getElementById(e.id);if(a){var t=a.getBoundingClientRect().top;e.active=t<=10}});var a=d.default.findLast(this.sections,["active",!0]);this.props.location.hash!=="#".concat(a.id)&&this.props.onSectionChange(a.id,"nut")},overlayInfoContent:function(e){return r.default.createElement("div",{className:"map-aa-info"},r.default.createElement("ul",{className:"map-aa-list inline-list"},r.default.createElement("li",null,r.default.createElement("a",{className:"map-back-link",href:"#/#".concat(e),title:"Ir para vista Nacional"},r.default.createElement("span",{className:"i-arrow-left2"}),this.props.nut.data.name))))},componentDidMount:function(){this.onSroll=d.default.throttle(this.onSroll,50),document.addEventListener("scroll",this.onSroll),this.props._fetchNut(this.props.params.nut),this.props.mapData.fetched||this.props._fetchMapData()},componentWillUnmount:function(){document.removeEventListener("scroll",this.onSroll)},componentWillReceiveProps:function(e){if(this.props.params.nut!==e.params.nut)return this.props._fetchNut(e.params.nut)},render:function(){var e=this.props.nut,a=e.fetched,t=e.fetching,n=e.error,o=e.data,s=this.props.location.hash.replace("#","");if(!a&&!t)return null;if(t)return r.default.createElement(E.default,null);if(n)return r.default.createElement("div",null,"Error: ",n);var l={labels:o.data.licencasTimeline.map(function(e){return e.year}),datasets:d.default.sortBy([{data:this.props.national.data.licencasTimeline.map(function(e){return e.lic1000}),label:"Portugal",color:"#1f8d8e",backgroundColor:"#f5f5f5"},{data:o.data.licencasTimeline.map(function(e){return e.lic1000}),label:o.name,color:"#00ced1",backgroundColor:"#f5f5f5"}],function(e){return e.data[0]})};return r.default.createElement("div",{id:"page-nut"},r.default.createElement("div",{id:"page-content"},r.default.createElement(p.default,{adminLevel:"nut",adminName:o.name,adminId:o.id,adminList:o.concelhos,licencasEndY:o.data.licencasEndY,maxEndY:o.data.maxEndY,licencasHab:o.data.licencasHab,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:this.overlayInfoContent}),r.default.createElement(g.default,{adminLevel:"nut",adminName:o.name,adminId:o.id,adminList:o.concelhos,parentSlug:this.props.params.nut,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:this.overlayInfoContent}),r.default.createElement(v.default,{adminLevel:"nut",adminName:o.name,adminId:o.id,licencasEndY:o.data.licencasEndY,licencasStartY:o.data.licencasStartY,municipios:o.concelhos,totalMunicipios:o.data.totalMunicipios,licencasTimeline:o.data.licencasTimeline,mapGeometries:this.props.mapData,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:this.overlayInfoContent}),r.default.createElement(m.default,{adminLevel:"nut",adminName:o.name,adminId:o.id,licencasHab:o.data.licencasHab,dormidas:o.data.dormidas,chartLic1000Hab:l,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:this.overlayInfoContent}),r.default.createElement(f.default,{adminLevel:"nut",adminName:o.name,adminId:o.id,totalMunicipiosMobReduzida:o.data.totalMunicipiosMobReduzida,totalMunicipios:o.data.totalMunicipios,licencasEndY:o.data.licencasEndY,licencasStartY:o.data.licencasStartY,licencasMobReduzidaEndY:o.data.licencasMobReduzidaEndY,licencasMobReduzidaStartY:o.data.licencasMobReduzidaStartY,licencasTimeline:o.data.licencasTimeline,mapGeometries:this.props.mapData,municipios:o.concelhos,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:this.overlayInfoContent}),r.default.createElement(h.default,{adminLevel:"nut",adminName:o.name,adminId:o.id,municipios:o.concelhos,totalMunicipios:o.data.totalMunicipios,mapGeometries:this.props.mapData,onMapClick:this.onMapClick,popoverContent:this.popoverContent,overlayInfoContent:this.overlayInfoContent})),r.default.createElement("ul",{className:"section-nav"},r.default.createElement("li",{className:(0,c.default)("nav-item",{active:"licencas"===s})},r.default.createElement(i.Link,{to:"/nuts/".concat(this.props.params.nut,"#licencas")},r.default.createElement("span",null,"Licenças e Contingentes"))),r.default.createElement("li",{className:(0,c.default)("nav-item",{active:"distribuicao"===s})},r.default.createElement(i.Link,{to:"/nuts/".concat(this.props.params.nut,"#distribuicao")},r.default.createElement("span",null,"Detalhe Geográfico"))),r.default.createElement("li",{className:(0,c.default)("nav-item",{active:"evolucao"===s})},r.default.createElement(i.Link,{to:"/nuts/".concat(this.props.params.nut,"#evolucao")},r.default.createElement("span",null,"Evolução ",u.startYear,"-",u.endYear))),r.default.createElement("li",{className:(0,c.default)("nav-item",{active:"indicadores"===s})},r.default.createElement(i.Link,{to:"/nuts/".concat(this.props.params.nut,"#indicadores")},r.default.createElement("span",null,"Indicadores"))),r.default.createElement("li",{className:(0,c.default)("nav-item",{active:"mobilidade"===s})},r.default.createElement(i.Link,{to:"/nuts/".concat(this.props.params.nut,"#mobilidade")},r.default.createElement("span",null,"Mobilidade Reduzida"))),r.default.createElement("li",{className:(0,c.default)("nav-item",{active:"estacionamento"===s})},r.default.createElement(i.Link,{to:"/nuts/".concat(this.props.params.nut,"#estacionamento")},r.default.createElement("span",null,"Regime Estacionamento")))))}});a.exports=(0,n.connect)(function(e){return{national:e.national,nut:e.nut,mapData:e.mapData}},function(e){return{_fetchNut:function(){return e(o.fetchNut.apply(void 0,arguments))},_fetchMapData:function(){return e(o.fetchMapData.apply(void 0,arguments))}}})(l)},{"../actions":"/root/repo/app/assets/scripts/actions/index.js","../components/loading-screen":"/root/repo/app/assets/scripts/components/loading-screen.js","../components/sections/section-ambito-nut":"/root/repo/app/assets/scripts/components/sections/section-ambito-nut.js","../components/sections/section-estacionamento":"/root/repo/app/assets/scripts/components/sections/section-estacionamento.js","../components/sections/section-evolucao":"/root/repo/app/assets/scripts/components/sections/section-evolucao.js","../components/sections/section-indicadores":"/root/repo/app/assets/scripts/components/sections/section-indicadores.js","../components/sections/section-licencas":"/root/repo/app/assets/scripts/components/sections/section-licencas.js","../components/sections/section-mobilidade":"/root/repo/app/assets/scripts/components/sections/section-mobilidade.js","../config":"/root/repo/app/assets/scripts/config.js",classnames:"classnames",lodash:"lodash",react:"react","react-redux":"react-redux","react-router":"react-router"}],"/root/repo/app/assets/scripts/views/sobre.js":[function(e,a,t){"use strict";var n=o(e("react"));o(e("../config"));function o(e){return e&&e.__esModule?e:{default:e}}var s=n.default.createClass({displayName:"Sobre",render:function(){return n.default.createElement("div",{id:"sobre-wrapper",className:"container-wrapper"},n.default.createElement("section",{id:"sobre",className:"content-wrapper"},n.default.createElement("h1",null,"Sobre o Projeto"),n.default.createElement("div",{className:"wrapper"},n.default.createElement("div",null,n.default.createElement("p",{className:"lead"},"A Autoridade da Mobilidade e dos Transportes identificou o desenvolvimento do Observatório dos Mercados da Mobilidade, Preços e Estratégias empresariais, como uma prioridade estratégica e um instrumento fundamental à aplicação de uma regulação eficiente no Ecossistema da Mobilidade e dos Transportes. "),n.default.createElement("p",null,"Para mais informações, pode ser consultado o documento - ",n.default.createElement("strong",null,n.default.createElement("a",{href:"http://amt-autoridade.pt/media/2558/sintese-mercado-taxi-portugal-junho2020.pdf",title:"Descarregar Documento",target:"_blank"},"O Transporte em Taxi em Portugal")),". A recolha estatística apresentada visa dar a conhecer factos essenciais sobre as condições de prestação de serviços de táxi em Portugal, constituindo mais um contributo da AMT para a reflexão sobre o quadro legislativo e regulatório no transporte de passageiros em veículos ligeiros. Potenciam-se assim decisões informadas e adequadas aos interesses dos utilizadores destes serviços e possibilita-se um acompanhamento dos efeitos das opções que venham a ser tomadas.")),n.default.createElement("div",null,n.default.createElement("h3",null,"Informações e Contactos"),n.default.createElement("p",null,"Este projeto foi coordenado pelo Observatório do Ecossistema da Mobilidade e dos Transportes. Para mais informações contactar ",n.default.createElement("a",{href:"mailto:observatorio@amt-autoridade.pt\n"},"observatorio@amt-autoridade.pt"),"."),n.default.createElement("p",null,n.default.createElement("strong",null,"AMT - Autoridade da Mobilidade e dos Transportes:"),n.default.createElement("a",{className:"block",href:"mailto:geral@amt-autoridade.pt"},"geral@amt-autoridade.pt")," ",n.default.createElement("a",{className:"block",href:"http://www.amt-autoridade.pt/",target:"_blank",rel:"noopener noreferrer"},"www.amt-autoridade.pt")),n.default.createElement("h3",null,"Tecnologias e Licenças"),n.default.createElement("p",null,"Este site foi desenvolvido pela Major, com recurso apenas a tecnologias Open Source. Para a framework base foram utilizados ",n.default.createElement("a",{href:"https://facebook.github.io/react/",target:"_blank",rel:"noopener noreferrer"},"React")," e ",n.default.createElement("a",{href:"http://redux.js.org/",target:"_blank",rel:"noopener noreferrer"},"Redux"),". Para os gráficos, foi utilizada a biblioteca ",n.default.createElement("a",{href:"http://www.chartjs.org/",target:"_blank",rel:"noopener noreferrer"},"Chart.js")," e, para os mapas, a biblioteca ",n.default.createElement("a",{href:"https://d3js.org/",target:"_blank",rel:"noopener noreferrer"},"D3.js"),"."),n.default.createElement("p",null,"Todo o código deste site está disponível sob a licença MIT ",n.default.createElement("a",{href:"https://opensource.org/licenses/MIT",target:"_blank",rel:"noopener noreferrer"},"https://opensource.org/licenses/MIT"),".")))))}});a.exports=s},{"../config":"/root/repo/app/assets/scripts/config.js",react:"react"}],"/root/repo/app/assets/scripts/views/uhoh.js":[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=e("react"),n&&n.__esModule?n:{default:n});var s=o.default.createClass({displayName:"UhOh",render:function(){return o.default.createElement("div",{className:"container-wrapper"},o.default.createElement("section",{className:"content-wrapper"},o.default.createElement("h1",null,"Página não encontrada"),o.default.createElement("div",{className:"wrapper"},o.default.createElement("div",null,o.default.createElement("p",{className:"lead"},"A página que procura não existe ou foi removida mas poderá encontrar todos os dados na ",o.default.createElement("a",{href:"/",title:"Visitar página principal"},"página principal"),".")))))}}),l=s;t.default=l},{react:"react"}]},{},["/root/repo/app/assets/scripts/main.js"]);